{
  "resourceType": "Library",
  "id": "VenousThromboembolismProphylaxisFHIR",
  "meta": {
    "versionId": "12",
    "lastUpdated": "2021-09-07T15:21:43.000-06:00",
    "source": "#sLvjXXONpksTDxvh",
    "profile": [ "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-library-cqfm" ]
  },
  "language": "en",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><table role=\"presentation\" class=\"header_table\"> \n <tbody> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">eCQM Title</span></th> \n   <td colspan=\"3\" style=\"width:80%\"><h1 style=\"font-size:10px\">Venous Thromboembolism ProphylaxisFHIR</h1></td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">eCQM Identifier (Measure Authoring Tool)</span></th> \n   <td style=\"width:30%\">108FHIR</td> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">eCQM Version Number</span></th> \n   <td style=\"width:30%\">0.0.006</td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">NQF Number</span></th> \n   <td style=\"width:30%\">Not Applicable</td> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">GUID</span></th> \n   <td style=\"width:30%\">fa570e9c-c75f-4972-a77e-9488816d14af</td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Measurement Period</span></th> \n   <td colspan=\"3\" style=\"width:80%\">January 1, 2022 through December 31, 2022</td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Measure Steward</span></th> \n   <td colspan=\"3\" style=\"width:80%\">The Joint Commission</td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Population Basis</span></th> \n   <td colspan=\"3\" style=\"width:80%\">Encounter</td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Experimental</span></th> \n   <td colspan=\"3\" style=\"width:80%\">No</td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Measure Developer</span></th> \n   <td colspan=\"3\" style=\"width:80%\">The Joint Commission</td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Endorsed By</span></th> \n   <td colspan=\"3\" style=\"width:80%\">None</td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Description</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>This measure assesses the number of patients who received VTE prophylaxis or have documentation why no VTE prophylaxis was given between the day of arrival to the day after hospital admission or surgery end date for surgeries that start the day of or the day after hospital admission</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Copyright</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Measure specifications are in the Public Domain.\n\nLOINC(R) copyright 2004-2020 Regenstrief Institute, Inc. \n\nThis material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2020 International Health Terminology Standards Development Organization. ICD-10 copyright 2020 World Health Organization. All Rights Reserved.</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Disclaimer</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>These performance measures are not clinical guidelines and do not establish a standard of medical care, and have not been tested for all potential applications. The measures and specifications are provided without warranty.</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Measure Scoring</span></th> \n   <td colspan=\"3\" style=\"width:80%\">Proportion</td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Measure Type</span></th> \n   <td colspan=\"3\" style=\"width:80%\">Process</td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Stratification</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>None</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Risk Adjustment</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>None</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Rate Aggregation</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>None</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Rationale</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Hospitalized patients at high-risk for VTE may develop an asymptomatic deep vein thrombosis (DVT), and die from pulmonary embolism (PE) even before the diagnosis is suspected. The majority of fatal events occur as sudden or abrupt death, underscoring the importance of prevention as the most critical action step for reducing death from PE (Geerts et al., 2008).\n\nThe estimated annual incidence of deep-vein thrombosis (DVT) and pulmonary embolism (PE), known collectively as venous thromboembolism (VTE), is approximately 900,000 (Geerts et al., 2008). Approximately two-thirds of cases of DVT or PE are associated with recent hospitalization. This is consistent with the 2001 report by The Agency for Healthcare Research and Quality (AHRQ). AHRQ indicates that &quot;the appropriate application of effective preventive measures in hospitals has major potential for improving patient safety by reducing the incidence of venous thromboembolism&quot; (Shojania et al., 2001).\n\nDespite its proven effectiveness, rates of appropriate thromboprophylaxis remain low in both medical and surgical patients. A recent analysis from the ENDORSE survey, which evaluated prophylaxis rates in 17,084 major surgery patients, found that more than one third of patients at risk for VTE (38%) did not receive prophylaxis and that rates varied by surgery type (Cohen et al., 2008).\n\nIn a review of evidence-based patient safety practices, the Agency for Healthcare Research and Quality defined thromboprophylaxis against VTE as the &quot;number one patient safety practice&quot; for hospitalized patients (Shojania et al., 2001). Updated &quot;safe practices&quot; published by the National Quality Forum (NQF) recommend routine evaluation of hospitalized patients for risk of VTE and use of appropriate prophylaxis (National Quality Forum, 2006).\n\nAs noted by the ACCP, a vast number of randomized clinical trials provide irrefutable evidence that thromboprophylaxis reduces VTE events, and there are studies that have also shown that fatal PE is prevented by thromboprophylaxis (Geerts et al., 2008).\n\nSome select surgeries have previously been monitored in the Surgical Care Improvement Project; since performance on these surgeries has achieved very high levels, they are not included in this measure.</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Clinical Recommendation Statement</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Failure to recognize and protect patients at risk for venous thromboembolism (VTE) increases the chances for acutely ill hospitalized patients at high risk for developing a deep vein thrombosis or dying from a pulmonary embolism. Screening all patients is the only evidence based practice in reducing incidence of disease. All hospitalized patients should be evaluated for primary VTE prophylaxis, and given appropriate prophylaxis when indicated.</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Improvement Notation</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Increased score indicates improvement</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Reference</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Reference Type: CITATION</pre> \n     <br/> \n     <pre>Reference Text: 'Cohen, A. T., Tapson, V. F., Bergmann, J. F., et al. (2008). Venous thromboembolism risk and prophylaxis in the acute hospital care setting (ENDORSE study): A multinational cross-sectional study. Lancet, 371, 387-394.'</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Reference</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Reference Type: CITATION</pre> \n     <br/> \n     <pre>Reference Text: 'Geerts, W. H., Bergqvist, D., Pineo, G. F., et al. (2008). Prevention of venous thromboembolism: The Eighth ACCP Conference on Antithrombotic and Thrombolytic Therapy. Chest, 133, 381S-453S.'</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Reference</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Reference Type: CITATION</pre> \n     <br/> \n     <pre>Reference Text: 'Guyatt, G. H., Akl, E. A., Crowther, M., et al. (2012). Antithrombotic therapy and prevention of thrombosis, 9th edition: American College of Chest Physicians evidence-based clinical practice guidelines. Chest, 141(2 Suppl.), 7S-47S.'</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Reference</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Reference Type: CITATION</pre> \n     <br/> \n     <pre>Reference Text: 'Kearon, C., Akl, E. A., Comerota, A. J., et al. (2012, February). Antithrombotic therapy for VTE disease: Antithrombotic therapy and prevention of thrombosis, 9th edition: American College of Chest Physicians evidence-based clinical practice guidelines. Chest, 141(2 Suppl.), e419S-e494S.'</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Reference</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Reference Type: CITATION</pre> \n     <br/> \n     <pre>Reference Text: 'National Quality Forum. (2006). National voluntary consensus standards for prevention and care of venous thromboembolism: Policy, preferred practices, and initial performance measures—A consensus report. Washington, DC: National Quality Forum.'</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Reference</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Reference Type: CITATION</pre> \n     <br/> \n     <pre>Reference Text: 'Shojania, K. G., Duncan, B. W., McDonald, D. M., et al. (eds.). (2001). Making health care safer: A critical analysis of patient safety practices. Evidence Report/Technology Assessment No. 43. Rockville, MD: Agency for Healthcare Research and Quality.'</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Reference</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Reference Type: CITATION</pre> \n     <br/> \n     <pre>Reference Text: 'Anderson, D. R., Morgano, G. P., Bennett, C., Dentali, F., Francis, C. W., Garcia, D. A., . . . Dahm, P. (2019). American Society of Hematology 2019 guidelines for management of venous thromboembolism: Prevention of venous thromboembolism in surgical hospitalized patients. Blood Advances, 3(23), 3898–3944. doi: 10.1182/bloodadvances.2019000975.'</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Definition</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>None</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Guidance</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>When low dose unfractionated heparin is administered for VTE Prophylaxis, the intended administration route for low dose unfractionated heparin is subcutaneous.\n\nReasons for no pharmacological and no mechanical VTE prophylaxis must be explicitly documented by the MD/APN/PA or pharmacist and linked with VTE prophylaxis. Ambulation alone is not a sufficient reason for not administering VTE prophylaxis. In order for ambulation/patient ambulating to be considered as an acceptable reason, there needs to be explicit documentation, e.g., &quot;patient out of bed and ambulating in halls - no VTE prophylaxis needed.&quot;\n\nThis eCQM is an episode-based measure. An episode is defined as each inpatient hospitalization or encounter that ends during the measurement period.\n\nThis FHIR-based measure has been derived from the QDM-based measure: CMS108v10.</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Transmission Format</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>TBD</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Initial Population</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Inpatient hospitalizations for patients age 18 and older, discharged from hospital inpatient acute care without a diagnosis of venous thromboembolism (VTE) or obstetrics with a length of stay less than or equal to 120 days that ends during the measurement period</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Denominator</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Initial population</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Denominator Exclusions</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>* Inpatient hospitalizations for patients who have a length of stay less than 2 days\n* Inpatient hospitalizations for patients with comfort measures documented anytime between the day of arrival and the day after hospital admission\n* Inpatient hospitalizations for patients with comfort measures documented by the day after surgery end date for surgeries that start the day of or the day after hospital admission\n* Inpatient hospitalizations for patients who are direct admits to intensive care unit (ICU), or transferred to ICU the day of or the day after hospital admission with ICU length of stay greater than or equal to one day\n* Inpatient hospitalizations for patients with a principal diagnosis of mental disorders or stroke\n* Inpatient hospitalizations for patients with a principal procedure of Surgical Care Improvement Project (SCIP) VTE selected surgeries</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Measure Observations</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre/> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Numerator</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Inpatient hospitalizations for patients who received VTE prophylaxis:\n- between the day of arrival and the day after hospital admission\n- the day of or the day after surgery end date for surgeries that end the day of or the day after hospital admission\n\nInpatient hospitalizations for patients who have documentation of a reason why no VTE prophylaxis was given:\n- between the day of arrival and the day after hospital admission\n- the day of or the day after surgery end date (for surgeries that end the day of or the day after hospital admission)</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Numerator Exclusions</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>Not Applicable</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Denominator Exceptions</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>None</pre> \n    </div> </td> \n  </tr> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Supplemental Data Elements</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>For every patient evaluated by this measure also identify payer, race, ethnicity and sex</pre> \n    </div> </td> \n  </tr> \n </tbody> \n</table> \n<h2> <a name=\"toc\">Table of Contents</a> </h2> \n<ul style=\"padding-left: 50px;\"> \n <li><a href=\"#d1e405\">Population Criteria</a></li> \n <li><a href=\"#d1e649\">Definitions</a></li> \n <li><a href=\"#d1e650\">Functions</a></li> \n <li><a href=\"#d1e555\">Terminology</a></li> \n <li><a href=\"#d1e647\">Data Criteria (FHIR Data Requirements)</a></li> \n <li><a href=\"#d1e767\">Supplemental Data Elements</a></li> \n <li><a href=\"#d1e879\">Risk Adjustment Variables</a></li> \n</ul>\n<div style=\"float:left; background:teal; height:3px; width:80%\"/> \n<pre><br/></pre>\n<h3><a name=\"d1e405\" href=\"#toc\">Population Criteria</a></h3> \n<div>                             <!-- Score Unit --> \n <ul> \n  <li style=\"list-style:none;padding-left:0px;\" class=\"list-unstyled\"> \n   <div class=\"treeview hover p-l-10\"> \n    <ul class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"><input id=\"Initial_Population_236598930\" type=\"checkbox\"/> <label for=\"Initial_Population_236598930\" class=\"list-header\"><strong>Initial Population</strong></label> \n      <ul class=\"code\"> \n       <li class=\"list-unstyled\"> \n        <div class=\"treeview hover p-l-10\"> \n         <ul> \n          <li style=\"padding-left: 0px;\"> \n           <div> \n            <pre class=\"cql-definition-body\">&quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot;</pre> \n           </div> </li> \n         </ul>  \n        </div> </li> \n      </ul> </li> \n    </ul> \n   </div> </li> \n </ul> \n <ul> \n  <li style=\"list-style:none;padding-left:0px;\" class=\"list-unstyled\"> \n   <div class=\"treeview hover p-l-10\"> \n    <ul class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"><input id=\"Denominator_624377372\" type=\"checkbox\"/> <label for=\"Denominator_624377372\" class=\"list-header\"><strong>Denominator</strong></label> \n      <ul class=\"code\"> \n       <li class=\"list-unstyled\"> \n        <div class=\"treeview hover p-l-10\"> \n         <ul> \n          <li style=\"padding-left: 0px;\"> \n           <div> \n            <pre class=\"cql-definition-body\">&quot;Initial Population&quot;</pre> \n           </div> </li> \n         </ul>  \n        </div> </li> \n      </ul> </li> \n    </ul> \n   </div> </li> \n </ul> \n <ul> \n  <li style=\"list-style:none;padding-left:0px;\" class=\"list-unstyled\"> \n   <div class=\"treeview hover p-l-10\"> \n    <ul class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"><input id=\"Denominator_Exclusions_1660887748\" type=\"checkbox\"/> <label for=\"Denominator_Exclusions_1660887748\" class=\"list-header\"><strong>Denominator Exclusions</strong></label> \n      <ul class=\"code\"> \n       <li class=\"list-unstyled\"> \n        <div class=\"treeview hover p-l-10\"> \n         <ul> \n          <li style=\"padding-left: 0px;\"> \n           <div> \n            <pre class=\"cql-definition-body\">&quot;Encounter Less Than 2 Days&quot;\n    union &quot;Encounter with ICU Location Stay 1 Day or More&quot;\n    union &quot;Encounter with Principal Diagnosis of Mental Disorder or Stroke&quot;\n    union &quot;Encounter with Principal Procedure of SCIP VTE Selected Surgery&quot;\n    union &quot;Encounter with Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission&quot;\n    union &quot;Encounter with Intervention Comfort Measures on Day of or Day After Procedure&quot;</pre> \n           </div> </li> \n         </ul>  \n        </div> </li> \n      </ul> </li> \n    </ul> \n   </div> </li> \n </ul> \n <ul> \n  <li style=\"list-style:none;padding-left:0px;\" class=\"list-unstyled\"> \n   <div class=\"treeview hover p-l-10\"> \n    <ul class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"><input id=\"Numerator_1563684261\" type=\"checkbox\"/> <label for=\"Numerator_1563684261\" class=\"list-header\"><strong>Numerator</strong></label> \n      <ul class=\"code\"> \n       <li class=\"list-unstyled\"> \n        <div class=\"treeview hover p-l-10\"> \n         <ul> \n          <li style=\"padding-left: 0px;\"> \n           <div> \n            <pre class=\"cql-definition-body\">&quot;Encounter with VTE Prophylaxis Received From Day of Start of Hospitalization To Day After Admission or Procedure&quot;\n                                  union ( &quot;Encounter with Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;\n                                  \t\t\t  intersect ( &quot;Encounter with Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;\n                                  \t\t\t\t\t\t    union &quot;Encounter with Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;\n                                  \t\t\t            )\n                                        )\n                                  union &quot;Encounter with Low Risk for VTE or Anticoagulant Administered&quot;\n                                  union &quot;Encounter with No VTE Prophylaxis Due to Medical Reason&quot;\n                                  union &quot;Encounter with No VTE Prophylaxis Due to Patient Refusal&quot;</pre> \n           </div> </li> \n         </ul>  \n        </div> </li> \n      </ul> </li> \n    </ul> \n   </div> </li> \n </ul> \n <ul> \n  <li style=\"list-style:none;padding-left:0px;\" class=\"list-unstyled\"> \n   <div class=\"treeview hover p-l-10\"> \n    <ul class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"><input id=\"Numerator_Exclusions_1325825404\" type=\"checkbox\"/> <label for=\"Numerator_Exclusions_1325825404\" class=\"list-header\"><strong>Numerator Exclusions</strong></label> \n      <ul class=\"code\"> \n       <li class=\"list-unstyled\"> \n        <div class=\"treeview hover p-l-10\"> \n         <ul> \n          <li style=\"padding-left: 0px;\"> \n           <div> \n            <pre class=\"cql-definition-body cql-class\">None</pre> \n           </div> </li> \n         </ul>  \n        </div> </li> \n      </ul> </li> \n    </ul> \n   </div> </li> \n </ul> \n <ul> \n  <li style=\"list-style:none;padding-left:0px;\" class=\"list-unstyled\"> \n   <div class=\"treeview hover p-l-10\"> \n    <ul class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"><input id=\"Denominator_Exceptions_1257219027\" type=\"checkbox\"/> <label for=\"Denominator_Exceptions_1257219027\" class=\"list-header\"><strong>Denominator Exceptions</strong></label> \n      <ul class=\"code\"> \n       <li class=\"list-unstyled\"> \n        <div class=\"treeview hover p-l-10\"> \n         <ul> \n          <li style=\"padding-left: 0px;\"> \n           <div> \n            <pre class=\"cql-definition-body cql-class\">None</pre> \n           </div> </li> \n         </ul>  \n        </div> </li> \n      </ul> </li> \n    </ul> \n   </div> </li> \n </ul> \n <ul> \n  <li style=\"list-style:none;padding-left:0px;\" class=\"list-unstyled\"> \n   <div class=\"treeview hover p-l-10\"> \n    <ul class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"><input id=\"Stratification_1849835536\" type=\"checkbox\"/> <label for=\"Stratification_1849835536\" class=\"list-header\"><strong>Stratification</strong></label> \n      <ul class=\"code\"> \n       <li class=\"list-unstyled\"> \n        <div class=\"treeview hover p-l-10\"> \n         <ul> \n          <li style=\"padding-left: 0px;\"> \n           <div> \n            <pre class=\"cql-definition-body cql-class\">None</pre> \n           </div> </li> \n         </ul>  \n        </div> </li> \n      </ul> </li> \n    </ul> \n   </div> </li> \n </ul> \n</div>\n<h3><a name=\"d1e649\" href=\"#toc\">Definitions</a></h3> \n<div> \n <ul style=\"list-style:none;padding-left: 10px;\"> \n  <li style=\"list-style:none;\" class=\"list-unstyled\"> \n   <div> \n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Admission_without_VTE_or_Obstetrical_Conditions268592546\" type=\"checkbox\"/> <label for=\"Admission_without_VTE_or_Obstetrical_Conditions268592546\" class=\"list-header\"><strong>Admission without VTE or Obstetrical Conditions</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">Global.&quot;Inpatient Encounter&quot; InpatientEncounter\n                              \t\t    where not (exists (Global.EncounterDiagnosis(InpatientEncounter)) EncounterDiagnosis\n                                            where (EncounterDiagnosis.code in &quot;Obstetrics&quot;\n                              \t\t\t\t\t\t\t\tor EncounterDiagnosis.code in &quot;Venous Thromboembolism&quot;\n                              \t\t\t\t\t\t\t\tor EncounterDiagnosis.code in &quot;Obstetrics VTE&quot;\n                              \t\t\t         )\n                                      )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Denominator1032319312\" type=\"checkbox\"/> <label for=\"Denominator1032319312\" class=\"list-header\"><strong>Denominator</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Initial Population&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Denominator_Exclusions1570117616\" type=\"checkbox\"/> <label for=\"Denominator_Exclusions1570117616\" class=\"list-header\"><strong>Denominator Exclusions</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter Less Than 2 Days&quot;\n    union &quot;Encounter with ICU Location Stay 1 Day or More&quot;\n    union &quot;Encounter with Principal Diagnosis of Mental Disorder or Stroke&quot;\n    union &quot;Encounter with Principal Procedure of SCIP VTE Selected Surgery&quot;\n    union &quot;Encounter with Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission&quot;\n    union &quot;Encounter with Intervention Comfort Measures on Day of or Day After Procedure&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_Less_Than_2_Days1075448192\" type=\"checkbox\"/> <label for=\"Encounter_Less_Than_2_Days1075448192\" class=\"list-header\"><strong>Encounter Less Than 2 Days</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n      where Global.&quot;LengthInDays&quot; ( QualifyingEncounter.period ) &lt; 2</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_Age_Range_and_without_VTE_Diagnosis_or_Obstetrical_Conditions1686797227\" type=\"checkbox\"/> <label for=\"Encounter_with_Age_Range_and_without_VTE_Diagnosis_or_Obstetrical_Conditions1686797227\" class=\"list-header\"><strong>Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">( Global.&quot;Inpatient Encounter&quot; InpatientEncounter\n                                  \t\twhere AgeInYearsAt(start of InpatientEncounter.period) &gt;= 18\n                                  )\n                                  intersect &quot;Admission without VTE or Obstetrical Conditions&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_ICU_Location_Stay_1_Day_or_More2065569210\" type=\"checkbox\"/> <label for=\"Encounter_with_ICU_Location_Stay_1_Day_or_More2065569210\" class=\"list-header\"><strong>Encounter with ICU Location Stay 1 Day or More</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    where exists ( QualifyingEncounter.location Location\n        where Global.GetLocation ( Location.location ).type in &quot;Intensive Care Unit&quot;\n          and Global.&quot;LengthInDays&quot; ( Location.period ) &gt;= 1\n          and Location.period starts during day of VTE.&quot;CalendarDayOfOrDayAfter&quot; ( start of QualifyingEncounter.period )\n    )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_Intervention_Comfort_Measures_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission319883712\" type=\"checkbox\"/> <label for=\"Encounter_with_Intervention_Comfort_Measures_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission319883712\" class=\"list-header\"><strong>Encounter with Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    with &quot;Intervention Comfort Measures&quot; ComfortMeasure\n      such that Coalesce(start of Global.&quot;Normalize Interval&quot;(ComfortMeasure.performed), ComfortMeasure.authoredOn)during day of VTE.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot; ( QualifyingEncounter )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_Intervention_Comfort_Measures_on_Day_of_or_Day_After_Procedure618147749\" type=\"checkbox\"/> <label for=\"Encounter_with_Intervention_Comfort_Measures_on_Day_of_or_Day_After_Procedure618147749\" class=\"list-header\"><strong>Encounter with Intervention Comfort Measures on Day of or Day After Procedure</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">from\n    &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n    [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n    &quot;Intervention Comfort Measures&quot; ComfortMeasure\n    where AnesthesiaProcedure.status = 'completed'\n      and Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) ends 1 day after day of start of QualifyingEncounter.period\n      and Coalesce(start of Global.&quot;Normalize Interval&quot;(ComfortMeasure.performed), ComfortMeasure.authoredOn)during day of VTE.&quot;CalendarDayOfOrDayAfter&quot; ( \n      end of Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) )\n    return QualifyingEncounter</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_Low_Risk_for_VTE_or_Anticoagulant_Administered1185685475\" type=\"checkbox\"/> <label for=\"Encounter_with_Low_Risk_for_VTE_or_Anticoagulant_Administered1185685475\" class=\"list-header\"><strong>Encounter with Low Risk for VTE or Anticoagulant Administered</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Low Risk for VTE or Anticoagulant Administered From Day of Start of Hospitalization To Day After Admission&quot;\n                                 \t union &quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_Medication_Oral_Factor_Xa_Inhibitor_Administered_on_Day_of_or_Day_After_Admission_or_Procedure294147229\" type=\"checkbox\"/> <label for=\"Encounter_with_Medication_Oral_Factor_Xa_Inhibitor_Administered_on_Day_of_or_Day_After_Admission_or_Procedure294147229\" class=\"list-header\"><strong>Encounter with Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">( from\n      &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n      [&quot;MedicationAdministration&quot;: &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;] FactorXaMedication\n      where FactorXaMedication.status = 'completed'\n        and Global.&quot;Normalize Interval&quot; ( FactorXaMedication.effective ) starts during day of VTE.&quot;CalendarDayOfOrDayAfter&quot; ( start of QualifyingEncounter.period )\n      return QualifyingEncounter\n  )\n    union ( from\n        &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n        [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n        [&quot;MedicationAdministration&quot;: &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;] FactorXaMedication\n        where FactorXaMedication.status = 'completed'\n          and AnesthesiaProcedure.status = 'completed'\n          and Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) ends 1 day after day of start of QualifyingEncounter.period\n          and Global.&quot;Normalize Interval&quot; ( FactorXaMedication.effective ) starts during day of VTE.&quot;CalendarDayOfOrDayAfter&quot; ( \n          end of Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) )\n        return QualifyingEncounter\n    )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_No_VTE_Prophylaxis_Due_to_Medical_Reason1341242654\" type=\"checkbox\"/> <label for=\"Encounter_with_No_VTE_Prophylaxis_Due_to_Medical_Reason1341242654\" class=\"list-header\"><strong>Encounter with No VTE Prophylaxis Due to Medical Reason</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">( &quot;No VTE Prophylaxis Medication Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;\n                                   intersect &quot;No VTE Prophylaxis Device Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;\n                                 )\n                                 union ( &quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure&quot;\n                                     intersect &quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure&quot;\n                                     )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_No_VTE_Prophylaxis_Due_to_Patient_Refusal1528752012\" type=\"checkbox\"/> <label for=\"Encounter_with_No_VTE_Prophylaxis_Due_to_Patient_Refusal1528752012\" class=\"list-header\"><strong>Encounter with No VTE Prophylaxis Due to Patient Refusal</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;No VTE Prophylaxis Due to Patient Refusal From Day of Start of Hospitalization To Day After Admission&quot;\n                               \tunion &quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_Principal_Diagnosis_of_Mental_Disorder_or_Stroke32241416\" type=\"checkbox\"/> <label for=\"Encounter_with_Principal_Diagnosis_of_Mental_Disorder_or_Stroke32241416\" class=\"list-header\"><strong>Encounter with Principal Diagnosis of Mental Disorder or Stroke</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n                                  where Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Mental Health Diagnoses&quot;\n                                      or Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Hemorrhagic Stroke&quot;\n                                      or Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Ischemic Stroke&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_Principal_Procedure_of_SCIP_VTE_Selected_Surgery1616698964\" type=\"checkbox\"/> <label for=\"Encounter_with_Principal_Procedure_of_SCIP_VTE_Selected_Surgery1616698964\" class=\"list-header\"><strong>Encounter with Principal Procedure of SCIP VTE Selected Surgery</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">from\n                                    &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n                                    &quot;SCIP VTE Selected Surgery&quot; SelectedProcedure\n                                    let EncounterProcedure: Global.GetExtension(QualifyingEncounter, 'qicore-encounter-procedure')\n                                where FHIRHelpers.ToInteger(Global.GetExtension(EncounterProcedure, 'rank').value as FHIR.positiveInt) = 1\n                                    and Global.GetId(FHIRHelpers.ToString((Global.GetExtension(EncounterProcedure, 'procedure').value as FHIR.Reference).reference)) = SelectedProcedure.id\n                                    and Global.&quot;Normalize Interval&quot;(SelectedProcedure.performed) during QualifyingEncounter.period\n                                    return QualifyingEncounter</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_Prior_or_Present_Diagnosis_of_Atrial_Fibrillation_or_VTE587573621\" type=\"checkbox\"/> <label for=\"Encounter_with_Prior_or_Present_Diagnosis_of_Atrial_Fibrillation_or_VTE587573621\" class=\"list-header\"><strong>Encounter with Prior or Present Diagnosis of Atrial Fibrillation or VTE</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">( &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n        with [&quot;Condition&quot;: &quot;Atrial Fibrillation/Flutter&quot;] AtrialFibrillation\n          such that ( FHIRHelpers.ToConcept ( AtrialFibrillation.clinicalStatus ) ~ Global.&quot;active&quot;\n              or FHIRHelpers.ToConcept ( AtrialFibrillation.clinicalStatus ) ~ Global.&quot;recurrence&quot;\n              or FHIRHelpers.ToConcept ( AtrialFibrillation.clinicalStatus ) ~ Global.&quot;relapse&quot;\n          )\n            and FHIRHelpers.ToConcept ( AtrialFibrillation.verificationStatus ) ~ Global.&quot;confirmed&quot;\n            and Global.&quot;Normalize Interval&quot; ( AtrialFibrillation.onset ) starts on or before \n            end of QualifyingEncounter.period\n    )\n      union ( &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n          where Global.EncounterDiagnosis ( QualifyingEncounter ).code in &quot;Atrial Fibrillation/Flutter&quot;\n      )\n      union ( &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n          with [&quot;Condition&quot;: &quot;Venous Thromboembolism&quot;] VTEDiagnosis\n            such that ( FHIRHelpers.ToConcept ( VTEDiagnosis.clinicalStatus ) ~ Global.&quot;inactive&quot;\n                or FHIRHelpers.ToConcept ( VTEDiagnosis.clinicalStatus ) ~ Global.&quot;remission&quot;\n                or FHIRHelpers.ToConcept ( VTEDiagnosis.clinicalStatus ) ~ Global.&quot;resolved&quot;\n            )\n              and VTEDiagnosis.verificationStatus ~ Global.&quot;confirmed&quot;\n              and Global.&quot;Normalize Interval&quot; ( VTEDiagnosis.onset ) before start of QualifyingEncounter.period\n      )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_Prior_or_Present_Procedure_of_Hip_or_Knee_Replacement_Surgery643476028\" type=\"checkbox\"/> <label for=\"Encounter_with_Prior_or_Present_Procedure_of_Hip_or_Knee_Replacement_Surgery643476028\" class=\"list-header\"><strong>Encounter with Prior or Present Procedure of Hip or Knee Replacement Surgery</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n                              \twith ( [&quot;Procedure&quot;: &quot;Hip Replacement Surgery&quot;]\n                                  \t\t\tunion [&quot;Procedure&quot;: &quot;Knee Replacement Surgery&quot;] ) HipKneeProcedure\n                              \tsuch that HipKneeProcedure.status = 'completed'\n                              \t     and Global.&quot;Normalize Interval&quot;(HipKneeProcedure.performed) starts on or before end of QualifyingEncounter.period</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Encounter_with_VTE_Prophylaxis_Received_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission_or_Procedure109193211\" type=\"checkbox\"/> <label for=\"Encounter_with_VTE_Prophylaxis_Received_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission_or_Procedure109193211\" class=\"list-header\"><strong>Encounter with VTE Prophylaxis Received From Day of Start of Hospitalization To Day After Admission or Procedure</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">( from\n      &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n      &quot;VTE Prophylaxis by Medication Administered or Device Applied&quot; VTEProphylaxis\n      where Coalesce(Global.&quot;Normalize Interval&quot;(VTEProphylaxis.effective), Global.&quot;Normalize Interval&quot;(VTEProphylaxis.performed))starts during day of VTE.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot; ( QualifyingEncounter )\n      return QualifyingEncounter\n  )\n    union ( from\n        &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n        [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n        &quot;VTE Prophylaxis by Medication Administered or Device Applied&quot; VTEProphylaxis\n        where Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) ends 1 day after day of start of QualifyingEncounter.period\n          and Coalesce(Global.&quot;Normalize Interval&quot;(VTEProphylaxis.effective), Global.&quot;Normalize Interval&quot;(VTEProphylaxis.performed)) starts during day of VTE.&quot;CalendarDayOfOrDayAfter&quot; ( \n          end of Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) )\n        return QualifyingEncounter\n    )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"In_Low_Risk_for_VTE_or_On_Anticoagulant1704546020\" type=\"checkbox\"/> <label for=\"In_Low_Risk_for_VTE_or_On_Anticoagulant1704546020\" class=\"list-header\"><strong>In Low Risk for VTE or On Anticoagulant</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">( [&quot;Observation&quot;: &quot;Risk for venous thromboembolism&quot;] VTERiskAssessment\n    where FHIRHelpers.ToConcept ( VTERiskAssessment.value ) in &quot;Low Risk&quot;\n      and VTERiskAssessment.status in { 'final', 'amended', 'corrected' }\n)\n  union ( [&quot;Observation&quot;: &quot;INR&quot;] INRLabTest\n      where INRLabTest.value as Quantity &gt; 3.0\n        and INRLabTest.status in { 'final', 'amended', 'corrected' }\n      return &quot;Observation&quot; { id: INRLabTest.id, effective: INRLabTest.issued }\n  )\n  union ( ( ( [&quot;MedicationAdministration&quot;: &quot;Unfractionated Heparin&quot;] UnfractionatedHeparin\n        where UnfractionatedHeparin.dosage.route in &quot;Intravenous route&quot;\n    )\n      union [&quot;MedicationAdministration&quot;: &quot;Direct Thrombin Inhibitor&quot;]\n      union [&quot;MedicationAdministration&quot;: &quot;Glycoprotein IIb/IIIa Inhibitors&quot;] ) AnticoagulantMedication\n      where AnticoagulantMedication.status = 'completed'\n      return &quot;Observation&quot; { id: AnticoagulantMedication.id, effective: AnticoagulantMedication.effective }\n  )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Initial_Population1760007733\" type=\"checkbox\"/> <label for=\"Initial_Population1760007733\" class=\"list-header\"><strong>Initial Population</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Intervention_Comfort_Measures934596834\" type=\"checkbox\"/> <label for=\"Intervention_Comfort_Measures934596834\" class=\"list-header\"><strong>Intervention Comfort Measures</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">( [&quot;ServiceRequest&quot;: &quot;Comfort Measures&quot;] P\n                where P.intent = 'order'\n                  and P.status in { 'active', 'on-hold', 'completed' }\n            )\n              union ( [&quot;Procedure&quot;: &quot;Comfort Measures&quot;] InterventionPerformed\n                  where InterventionPerformed.status in { 'completed', 'in-progress' }\n              )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Low_Risk_for_VTE_or_Anticoagulant_Administered_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission535062573\" type=\"checkbox\"/> <label for=\"Low_Risk_for_VTE_or_Anticoagulant_Administered_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission535062573\" class=\"list-header\"><strong>Low Risk for VTE or Anticoagulant Administered From Day of Start of Hospitalization To Day After Admission</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n  with &quot;In Low Risk for VTE or On Anticoagulant&quot; VTERiskAssessment\n    such that Global.&quot;Normalize Interval&quot; ( VTERiskAssessment.effective ) starts during day of VTE.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot; ( QualifyingEncounter )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Low_Risk_for_VTE_or_Anticoagulant_Administered_on_Day_of_or_Day_After_Procedure1924146454\" type=\"checkbox\"/> <label for=\"Low_Risk_for_VTE_or_Anticoagulant_Administered_on_Day_of_or_Day_After_Procedure1924146454\" class=\"list-header\"><strong>Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">from\n  &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n  [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n  &quot;In Low Risk for VTE or On Anticoagulant&quot; VTERiskAssessment\n  where Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) ends 1 day after day of start of QualifyingEncounter.period\n    and Global.&quot;Normalize Interval&quot; ( VTERiskAssessment.effective ) starts during day of VTE.&quot;CalendarDayOfOrDayAfter&quot; ( \n    end of Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) )\n  return QualifyingEncounter</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_Inpatient_Encounter1796902074\" type=\"checkbox\"/> <label for=\"Global_Inpatient_Encounter1796902074\" class=\"list-header\"><strong>Global.Inpatient Encounter</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">[Encounter: &quot;Encounter Inpatient&quot;] EncounterInpatient\n    \t\twhere EncounterInpatient.status = 'finished'\n    \t\t    and &quot;LengthInDays&quot;(EncounterInpatient.period) &lt;= 120\n    \t\t\tand EncounterInpatient.period ends during &quot;Measurement Period&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"No_VTE_Prophylaxis_Device_Applied_or_Ordered1312235981\" type=\"checkbox\"/> <label for=\"No_VTE_Prophylaxis_Device_Applied_or_Ordered1312235981\" class=\"list-header\"><strong>No VTE Prophylaxis Device Applied or Ordered</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">((\n                                  [&quot;ServiceRequest&quot;: &quot;Venous foot pumps (VFP)&quot;]\n                                  union [&quot;ServiceRequest&quot;: &quot;Intermittent pneumatic compression devices (IPC)&quot;]\n                                  union [&quot;ServiceRequest&quot;: &quot;Graduated compression stockings (GCS)&quot;]\n                                  ) DeviceOrder\n                                  where DeviceOrder.status = 'completed'\n                                      and DeviceOrder.doNotPerform is true\n                                  return {id: DeviceOrder.id, requestStatusReason: GetStatusReason(DeviceOrder), authoredOn: DeviceOrder.authoredOn}\n                                  )\n                                union\n                                  (\n                                    [&quot;Procedure&quot;: &quot;Device Application&quot;] DeviceApplied\n                                    let DeviceNotDoneTiming: Global.GetExtension(DeviceApplied, 'qicore-recorded').value\n                                    where (DeviceApplied.usedCode in &quot;Intermittent pneumatic compression devices (IPC)&quot;\n                                          or DeviceApplied.usedCode in &quot;Venous foot pumps (VFP)&quot;\n                                          or DeviceApplied.usedCode in &quot;Graduated compression stockings (GCS)&quot;\n                                          )\n                                       and  DeviceApplied.status = 'not-done'\n                                       return {id: DeviceApplied.id, requestStatusReason: DeviceApplied.statusReason, authoredOn: DeviceNotDoneTiming}\n                              \n                                  )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"No_VTE_Prophylaxis_Device_Due_to_Medical_Reason_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission1639091397\" type=\"checkbox\"/> <label for=\"No_VTE_Prophylaxis_Device_Due_to_Medical_Reason_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission1639091397\" class=\"list-header\"><strong>No VTE Prophylaxis Device Due to Medical Reason From Day of Start of Hospitalization To Day After Admission</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n                                \twith &quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\n                                    such that NoVTEDevice.requestStatusReason in &quot;Medical Reason&quot;\n                                      and  NoVTEDevice.authoredOn during day of VTE.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"No_VTE_Prophylaxis_Device_Due_to_Medical_Reason_on_Day_of_or_Day_After_Procedure2022938314\" type=\"checkbox\"/> <label for=\"No_VTE_Prophylaxis_Device_Due_to_Medical_Reason_on_Day_of_or_Day_After_Procedure2022938314\" class=\"list-header\"><strong>No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">from\n    &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n    [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n    &quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\n    where NoVTEDevice.requestStatusReason in &quot;Medical Reason&quot;\n      and AnesthesiaProcedure.status = 'completed'\n      and Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) ends 1 day after day of start of QualifyingEncounter.period\n      and NoVTEDevice.authoredOn during day of VTE.&quot;CalendarDayOfOrDayAfter&quot; ( \n      end of Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) )\n    return QualifyingEncounter</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"No_VTE_Prophylaxis_Due_to_Patient_Refusal_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission1126005891\" type=\"checkbox\"/> <label for=\"No_VTE_Prophylaxis_Due_to_Patient_Refusal_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission1126005891\" class=\"list-header\"><strong>No VTE Prophylaxis Due to Patient Refusal From Day of Start of Hospitalization To Day After Admission</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n              with &quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot; PatientRefusal\n                such that PatientRefusal.authoredOn during day of VTE.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot; ( QualifyingEncounter )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"No_VTE_Prophylaxis_Due_to_Patient_Refusal_on_Day_of_or_Day_After_Procedure2068831454\" type=\"checkbox\"/> <label for=\"No_VTE_Prophylaxis_Due_to_Patient_Refusal_on_Day_of_or_Day_After_Procedure2068831454\" class=\"list-header\"><strong>No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">from\n    &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n    [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n    &quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot; PatientRefusal\n    where Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) ends 1 day after day of start of QualifyingEncounter.period\n      and PatientRefusal.authoredOn during day of VTE.&quot;CalendarDayOfOrDayAfter&quot; ( \n      end of Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) )\n    return QualifyingEncounter</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"No_VTE_Prophylaxis_Medication_Administered_or_Ordered1846618236\" type=\"checkbox\"/> <label for=\"No_VTE_Prophylaxis_Medication_Administered_or_Ordered1846618236\" class=\"list-header\"><strong>No VTE Prophylaxis Medication Administered or Ordered</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">( ( [&quot;MedicationAdministration&quot;: &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;]\n                union [&quot;MedicationAdministration&quot;: &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;]\n                union [&quot;MedicationAdministration&quot;: &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;]\n                union [&quot;MedicationAdministration&quot;: &quot;Warfarin&quot;]\n                union [&quot;MedicationAdministration&quot;: &quot;Rivaroxaban for VTE Prophylaxis&quot;] ) MedicationAdm\n                let MedicationNotDoneTiming: Global.GetExtension ( MedicationAdm, 'qicore-recorded' ).value\n                where MedicationAdm.status = 'not-done'\n                return {\n                  id: MedicationAdm.id,\n                  MedicationStatusReason: MedicationAdm.statusReason,\n                  authoredOn: MedicationNotDoneTiming\n                }\n            )\n              union ( ( [&quot;MedicationRequest&quot;: &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;]\n                  union [&quot;MedicationRequest&quot;: &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;]\n                  union [&quot;MedicationRequest&quot;: &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;]\n                  union [&quot;MedicationRequest&quot;: &quot;Warfarin&quot;]\n                  union [&quot;MedicationRequest&quot;: &quot;Rivaroxaban for VTE Prophylaxis&quot;] ) MedicationOrder\n                  where MedicationOrder.doNotPerform is true\n                    and MedicationOrder.status in { 'completed', 'cancelled' }\n                  return {\n                    id: MedicationOrder.id,\n                    MedicationStatusReason: MedicationOrder.reasonCode,\n                    authoredOn: MedicationOrder.authoredOn\n                  }\n              )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"No_VTE_Prophylaxis_Medication_Due_to_Medical_Reason_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission908020262\" type=\"checkbox\"/> <label for=\"No_VTE_Prophylaxis_Medication_Due_to_Medical_Reason_From_Day_of_Start_of_Hospitalization_To_Day_After_Admission908020262\" class=\"list-header\"><strong>No VTE Prophylaxis Medication Due to Medical Reason From Day of Start of Hospitalization To Day After Admission</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n              with &quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\n                such that NoVTEMedication.MedicationStatusReason in &quot;Medical Reason&quot;\n                  and NoVTEMedication.authoredOn during day of VTE.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot; ( QualifyingEncounter )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"No_VTE_Prophylaxis_Medication_Due_to_Medical_Reason_on_Day_of_or_Day_After_Procedure1520653527\" type=\"checkbox\"/> <label for=\"No_VTE_Prophylaxis_Medication_Due_to_Medical_Reason_on_Day_of_or_Day_After_Procedure1520653527\" class=\"list-header\"><strong>No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">from\n    &quot;Encounter with Age Range and without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n    [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n    &quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\n    where NoVTEMedication.MedicationStatusReason in &quot;Medical Reason&quot;\n      and AnesthesiaProcedure.status = 'completed'\n      and Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) ends 1 day after day of start of QualifyingEncounter.period\n      and NoVTEMedication.authoredOn during day of VTE.&quot;CalendarDayOfOrDayAfter&quot; ( \n      end of Global.&quot;Normalize Interval&quot; ( AnesthesiaProcedure.performed ) )\n    return QualifyingEncounter</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"No_VTE_Prophylaxis_Medication_or_Device_Due_to_Patient_Refusal1695068100\" type=\"checkbox\"/> <label for=\"No_VTE_Prophylaxis_Medication_or_Device_Due_to_Patient_Refusal1695068100\" class=\"list-header\"><strong>No VTE Prophylaxis Medication or Device Due to Patient Refusal</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">( &quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\n                where NoVTEMedication.MedicationStatusReason in &quot;Patient Refusal&quot;\n            )\n              union ( &quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\n                  where NoVTEDevice.requestStatusReason in &quot;Patient Refusal&quot;\n              )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Numerator1779451679\" type=\"checkbox\"/> <label for=\"Numerator1779451679\" class=\"list-header\"><strong>Numerator</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">&quot;Encounter with VTE Prophylaxis Received From Day of Start of Hospitalization To Day After Admission or Procedure&quot;\n                                  union ( &quot;Encounter with Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;\n                                  \t\t\t  intersect ( &quot;Encounter with Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;\n                                  \t\t\t\t\t\t    union &quot;Encounter with Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;\n                                  \t\t\t            )\n                                        )\n                                  union &quot;Encounter with Low Risk for VTE or Anticoagulant Administered&quot;\n                                  union &quot;Encounter with No VTE Prophylaxis Due to Medical Reason&quot;\n                                  union &quot;Encounter with No VTE Prophylaxis Due to Patient Refusal&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"SCIP_VTE_Selected_Surgery1486692685\" type=\"checkbox\"/> <label for=\"SCIP_VTE_Selected_Surgery1486692685\" class=\"list-header\"><strong>SCIP VTE Selected Surgery</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">(\t[&quot;Procedure&quot;: &quot;General Surgery&quot;]\n                                  union [&quot;Procedure&quot;: &quot;Gynecological Surgery&quot;]\n                                  union [&quot;Procedure&quot;: &quot;Hip Fracture Surgery&quot;]\n                                  union [&quot;Procedure&quot;: &quot;Hip Replacement Surgery&quot;]\n                                  union [&quot;Procedure&quot;: &quot;Intracranial Neurosurgery&quot;]\n                                  union [&quot;Procedure&quot;: &quot;Knee Replacement Surgery&quot;]\n                                  union [&quot;Procedure&quot;: &quot;Urological Surgery&quot;] ) Procedure\n                                where Procedure.status = 'completed'</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"SDE_Ethnicity1389628852\" type=\"checkbox\"/> <label for=\"SDE_Ethnicity1389628852\" class=\"list-header\"><strong>SDE Ethnicity</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">SDE.&quot;SDE Ethnicity&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"SDE_Payer851436049\" type=\"checkbox\"/> <label for=\"SDE_Payer851436049\" class=\"list-header\"><strong>SDE Payer</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">SDE.&quot;SDE Payer&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"SDE_Race633526676\" type=\"checkbox\"/> <label for=\"SDE_Race633526676\" class=\"list-header\"><strong>SDE Race</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">SDE.&quot;SDE Race&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"SDE_Sex1514450420\" type=\"checkbox\"/> <label for=\"SDE_Sex1514450420\" class=\"list-header\"><strong>SDE Sex</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">SDE.&quot;SDE Sex&quot;</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"SDE_SDE_Ethnicity88908540\" type=\"checkbox\"/> <label for=\"SDE_SDE_Ethnicity88908540\" class=\"list-header\"><strong>SDE.SDE Ethnicity</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">(flatten (\n    Patient.extension Extension\n      where Extension.url = 'http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity'\n        return Extension.extension\n  )) E\n    where E.url = 'ombCategory'\n      or E.url = 'detailed'\n    return E.value as Coding</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"SDE_SDE_Payer255114703\" type=\"checkbox\"/> <label for=\"SDE_SDE_Payer255114703\" class=\"list-header\"><strong>SDE.SDE Payer</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">[Coverage: type in &quot;Payer&quot;] Payer\n      return {\n        code: Payer.type,\n        period: Payer.period\n      }</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"SDE_SDE_Race1526008346\" type=\"checkbox\"/> <label for=\"SDE_SDE_Race1526008346\" class=\"list-header\"><strong>SDE.SDE Race</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">(flatten (\n    Patient.extension Extension\n      where Extension.url = 'http://hl7.org/fhir/us/core/StructureDefinition/us-core-race'\n        return Extension.extension\n  )) E\n    where E.url = 'ombCategory'\n      or E.url = 'detailed'\n    return E.value as Coding</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"SDE_SDE_Sex618746542\" type=\"checkbox\"/> <label for=\"SDE_SDE_Sex618746542\" class=\"list-header\"><strong>SDE.SDE Sex</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">case\n    when Patient.gender = 'male' then Code { code: 'M', system: 'http://hl7.org/fhir/v3/AdministrativeGender', display: 'Male' }\n    when Patient.gender = 'female' then Code { code: 'F', system: 'http://hl7.org/fhir/v3/AdministrativeGender', display: 'Female' }\n    else null\n  end</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"VTE_Prophylaxis_by_Medication_Administered_or_Device_Applied477487555\" type=\"checkbox\"/> <label for=\"VTE_Prophylaxis_by_Medication_Administered_or_Device_Applied477487555\" class=\"list-header\"><strong>VTE Prophylaxis by Medication Administered or Device Applied</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">( [&quot;MedicationAdministration&quot;: &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;] VTEMedication\n                                    where VTEMedication.status ='completed'\n                              \t\t\t     and VTEMedication.dosage.route in &quot;Subcutaneous route&quot;\n                                )\n                                 union ([&quot;MedicationAdministration&quot;: &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;] LMWH where LMWH.status = 'completed')\n                                  union ([&quot;MedicationAdministration&quot;: &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;] FactorXa where FactorXa.status = 'completed')\n                                   union ([&quot;MedicationAdministration&quot;: &quot;Warfarin&quot;] Warfarin where Warfarin.status = 'completed')\n                                   union ([&quot;MedicationAdministration&quot;: &quot;Rivaroxaban for VTE Prophylaxis&quot;] Rivaroxaban where Rivaroxaban.status = 'completed')\n                                    union (\n                                        [&quot;Procedure&quot;: &quot;Device Application&quot;] DeviceApplied\n                                        where DeviceApplied.status = 'completed'\n                                              and (DeviceApplied.usedCode in &quot;Intermittent pneumatic compression devices (IPC)&quot;\n                                                  or DeviceApplied.usedCode in&quot;Venous foot pumps (VFP)&quot;\n                                                  or DeviceApplied.usedCode in &quot;Graduated compression stockings (GCS)&quot;\n                                                  )\n                                        )</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul> \n   </div> </li> \n </ul> \n</div>\n<h3><a name=\"d1e650\" href=\"#toc\">Functions</a></h3> \n<div> \n <ul style=\"list-style:none;padding-left: 10px;\"> \n  <li style=\"list-style:none;\" class=\"list-unstyled\"> \n   <div> \n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"FHIRHelpers_ToCode_coding_FHIR_Datatype_1598151106\" type=\"checkbox\"/> <label for=\"FHIRHelpers_ToCode_coding_FHIR_Datatype_1598151106\" class=\"list-header\"><strong>FHIRHelpers.ToCode(coding FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">if coding is null then\n      null\n  else\n      System.Code {\n        code: coding.code.value,\n        system: coding.system.value,\n        version: coding.version.value,\n        display: coding.display.value\n      }</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"FHIRHelpers_ToConcept_concept_FHIR_Datatype_1646748158\" type=\"checkbox\"/> <label for=\"FHIRHelpers_ToConcept_concept_FHIR_Datatype_1646748158\" class=\"list-header\"><strong>FHIRHelpers.ToConcept(concept FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">if concept is null then\n      null\n  else\n      System.Concept {\n          codes: concept.coding C return ToCode(C),\n          display: concept.text.value\n      }</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"FHIRHelpers_ToDate_value_FHIR_Datatype_1035823605\" type=\"checkbox\"/> <label for=\"FHIRHelpers_ToDate_value_FHIR_Datatype_1035823605\" class=\"list-header\"><strong>FHIRHelpers.ToDate(value FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">value.value</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"FHIRHelpers_ToDateTime_value_FHIR_Datatype_1962358726\" type=\"checkbox\"/> <label for=\"FHIRHelpers_ToDateTime_value_FHIR_Datatype_1962358726\" class=\"list-header\"><strong>FHIRHelpers.ToDateTime(value FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">value.value</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"FHIRHelpers_ToInteger_value_FHIR_Datatype_678437961\" type=\"checkbox\"/> <label for=\"FHIRHelpers_ToInteger_value_FHIR_Datatype_678437961\" class=\"list-header\"><strong>FHIRHelpers.ToInteger(value FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">value.value</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"FHIRHelpers_ToInterval_period_FHIR_Datatype_168458845\" type=\"checkbox\"/> <label for=\"FHIRHelpers_ToInterval_period_FHIR_Datatype_168458845\" class=\"list-header\"><strong>FHIRHelpers.ToInterval(period FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">if period is null then\n      null\n  else\n      Interval[period.&quot;start&quot;.value, period.&quot;end&quot;.value]</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"FHIRHelpers_ToQuantity_quantity_FHIR_Datatype_1189527989\" type=\"checkbox\"/> <label for=\"FHIRHelpers_ToQuantity_quantity_FHIR_Datatype_1189527989\" class=\"list-header\"><strong>FHIRHelpers.ToQuantity(quantity FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">if quantity is null then\n      null\n  else\n      System.Quantity { value: quantity.value.value, unit: quantity.unit.value }</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"FHIRHelpers_ToString_value_FHIR_Datatype_1226671770\" type=\"checkbox\"/> <label for=\"FHIRHelpers_ToString_value_FHIR_Datatype_1226671770\" class=\"list-header\"><strong>FHIRHelpers.ToString(value FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">value.value</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"GetStatusReason_requestReason_FHIR_Datatype_2125835362\" type=\"checkbox\"/> <label for=\"GetStatusReason_requestReason_FHIR_Datatype_2125835362\" class=\"list-header\"><strong>GetStatusReason(requestReason FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">Global.GetBaseExtension(requestReason, 'request-statusReason')</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_EncounterDiagnosis_Encounter_FHIR_Datatype_1488155593\" type=\"checkbox\"/> <label for=\"Global_EncounterDiagnosis_Encounter_FHIR_Datatype_1488155593\" class=\"list-header\"><strong>Global.EncounterDiagnosis(Encounter FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">Encounter.diagnosis D\n  return singleton from ([Condition] C where C.id = &quot;GetId&quot;(D.condition.reference))\n\n// Returns the condition that is specified as the principal diagnosis for the encounter\n// TODO: BTR 2019-07-30: Shouldn't need the FHIRHelpers reference here, investigate</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_GetBaseExtension_domainResource_FHIR_Datatype__url_FHIR_Datatype_945108520\" type=\"checkbox\"/> <label for=\"Global_GetBaseExtension_domainResource_FHIR_Datatype__url_FHIR_Datatype_945108520\" class=\"list-header\"><strong>Global.GetBaseExtension(domainResource FHIR Datatype, url FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">singleton from &quot;GetBaseExtensions&quot;(domainResource, url)</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_GetBaseExtensions_domainResource_FHIR_Datatype__url_FHIR_Datatype_1002743532\" type=\"checkbox\"/> <label for=\"Global_GetBaseExtensions_domainResource_FHIR_Datatype__url_FHIR_Datatype_1002743532\" class=\"list-header\"><strong>Global.GetBaseExtensions(domainResource FHIR Datatype, url FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">domainResource.extension E\n\t  where E.url = ('http://hl7.org/fhir/StructureDefinition/' + url)\n\t\treturn E</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_GetExtension_domainResource_FHIR_Datatype__url_FHIR_Datatype_382818314\" type=\"checkbox\"/> <label for=\"Global_GetExtension_domainResource_FHIR_Datatype__url_FHIR_Datatype_382818314\" class=\"list-header\"><strong>Global.GetExtension(domainResource FHIR Datatype, url FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">singleton from &quot;GetExtensions&quot;(domainResource, url)</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_GetExtensions_domainResource_FHIR_Datatype__url_FHIR_Datatype_1888330249\" type=\"checkbox\"/> <label for=\"Global_GetExtensions_domainResource_FHIR_Datatype__url_FHIR_Datatype_1888330249\" class=\"list-header\"><strong>Global.GetExtensions(domainResource FHIR Datatype, url FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">domainResource.extension E\n\t  where E.url = ('http://hl7.org/fhir/us/qicore/StructureDefinition/' + url)\n\t\treturn E</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_GetId_uri_FHIR_Datatype_600431724\" type=\"checkbox\"/> <label for=\"Global_GetId_uri_FHIR_Datatype_600431724\" class=\"list-header\"><strong>Global.GetId(uri FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">Last(Split(uri, '/'))</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_GetLocation_reference_FHIR_Datatype_1467758263\" type=\"checkbox\"/> <label for=\"Global_GetLocation_reference_FHIR_Datatype_1467758263\" class=\"list-header\"><strong>Global.GetLocation(reference FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">singleton from (\n  [Location] L where L.id = GetId(reference.reference)\n)</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_HospitalizationWithObservation_TheEncounter_FHIR_Datatype_2054510404\" type=\"checkbox\"/> <label for=\"Global_HospitalizationWithObservation_TheEncounter_FHIR_Datatype_2054510404\" class=\"list-header\"><strong>Global.HospitalizationWithObservation(TheEncounter FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">TheEncounter Visit\n\t\tlet ObsVisit: Last([Encounter: &quot;Observation Services&quot;] LastObs\n\t\t\t\twhere LastObs.period ends 1 hour or less on or before start of Visit.period\n\t\t\t\tsort by end of period\n\t\t\t),\n\t\t\tVisitStart: Coalesce(start of ObsVisit.period, start of Visit.period),\n\t\t\tEDVisit: Last([Encounter: &quot;Emergency Department Visit&quot;] LastED\n\t\t\t\twhere LastED.period ends 1 hour or less on or before VisitStart\n\t\t\t\tsort by end of period\n\t\t\t)\n\t\treturn Interval[Coalesce(start of EDVisit.period, VisitStart), end of Visit.period]</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_LengthInDays_Value_FHIR_Datatype_1239969469\" type=\"checkbox\"/> <label for=\"Global_LengthInDays_Value_FHIR_Datatype_1239969469\" class=\"list-header\"><strong>Global.LengthInDays(Value FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">difference in days between start of Value and end of Value</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_Normalize_Interval_choice_FHIR_Datatype_905683041\" type=\"checkbox\"/> <label for=\"Global_Normalize_Interval_choice_FHIR_Datatype_905683041\" class=\"list-header\"><strong>Global.Normalize Interval(choice FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">case\n\t  when choice is FHIR.dateTime then\n\tInterval[FHIRHelpers.ToDateTime(choice as FHIR.dateTime), FHIRHelpers.ToDateTime(choice as FHIR.dateTime)]\n\t\twhen choice is FHIR.Period then\n\t\tFHIRHelpers.ToInterval(choice as FHIR.Period)\n\t\twhen choice is FHIR.instant then\n\t\t\tInterval[FHIRHelpers.ToDateTime(choice as FHIR.instant), FHIRHelpers.ToDateTime(choice as FHIR.instant)]\n\t\twhen choice is FHIR.Age then\n\t\t  Interval[FHIRHelpers.ToDate(Patient.birthDate) + FHIRHelpers.ToQuantity(choice as FHIR.Age),\n\t\t\t  FHIRHelpers.ToDate(Patient.birthDate) + FHIRHelpers.ToQuantity(choice as FHIR.Age) + 1 year)\n\t\twhen choice is FHIR.Range then\n\t\t  Interval[FHIRHelpers.ToDate(Patient.birthDate) + FHIRHelpers.ToQuantity((choice as FHIR.Range).low),\n\t\t\t  FHIRHelpers.ToDate(Patient.birthDate) + FHIRHelpers.ToQuantity((choice as FHIR.Range).high) + 1 year)\n\t\twhen choice is FHIR.Timing then\n\t\t  Message(null as Interval&lt;DateTime&gt;, true, '1', 'Error', 'Cannot compute a single interval from a Timing type')\n  when choice is FHIR.string then\n    Message(null as Interval&lt;DateTime&gt;, true, '1', 'Error', 'Cannot compute an interval from a String value')\n\t\telse\n\t\t\tnull as Interval&lt;DateTime&gt;\n\tend</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"Global_PrincipalDiagnosis_Encounter_FHIR_Datatype_1753042247\" type=\"checkbox\"/> <label for=\"Global_PrincipalDiagnosis_Encounter_FHIR_Datatype_1753042247\" class=\"list-header\"><strong>Global.PrincipalDiagnosis(Encounter FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">(singleton from (Encounter.diagnosis D where FHIRHelpers.ToInteger(D.rank) = 1)) PD\n\t\treturn singleton from ([Condition] C where C.id = &quot;GetId&quot;(PD.condition.reference))\n// Returns the location for the given location reference</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"VTE_CalendarDayOfOrDayAfter_StartValue_FHIR_Datatype_1589145038\" type=\"checkbox\"/> <label for=\"VTE_CalendarDayOfOrDayAfter_StartValue_FHIR_Datatype_1589145038\" class=\"list-header\"><strong>VTE.CalendarDayOfOrDayAfter(StartValue FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">Interval[date from ( StartValue ), date from ( StartValue ) + 1 day]</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul>\n    <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\"> \n     <li class=\"list-unstyled\"> \n      <div class=\"treeview hover p-l-10\"> \n       <input id=\"VTE_FromDayOfStartOfHospitalizationToDayAfterAdmission_Encounter_FHIR_Datatype_1090727532\" type=\"checkbox\"/> <label for=\"VTE_FromDayOfStartOfHospitalizationToDayAfterAdmission_Encounter_FHIR_Datatype_1090727532\" class=\"list-header\"><strong>VTE.FromDayOfStartOfHospitalizationToDayAfterAdmission(Encounter FHIR Datatype)</strong></label> \n       <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n        <li class=\"list-unstyled\"> \n         <div> \n          <ul style=\"padding-left: 0px;\"> \n           <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n            <div> \n             <pre class=\"cql-definition-body\">Interval[date from ( start of Global.&quot;HospitalizationWithObservation&quot; ( Encounter ) ), date from ( start of Encounter.period ) + 1 day]</pre> \n            </div> </li> \n          </ul>  \n         </div> </li> \n       </ul> \n      </div> </li> \n    </ul> \n   </div> </li> \n </ul> \n</div>\n<h3><a name=\"d1e555\" href=\"#toc\">Terminology</a></h3> \n<div> \n <ul style=\"padding-left: 50px;\"> \n  <li style=\"width:80%\">code &quot;active&quot; (&quot;ConditionClinicalStatusCodes Code (active)&quot;)</li> \n  <li style=\"width:80%\">code &quot;allergy-active&quot; (&quot;AllergyIntoleranceClinicalStatusCodes Code (active)&quot;)</li> \n  <li style=\"width:80%\">code &quot;allergy-confirmed&quot; (&quot;AllergyIntoleranceVerificationStatusCodes Code (confirmed)&quot;)</li> \n  <li style=\"width:80%\">code &quot;allergy-inactive&quot; (&quot;AllergyIntoleranceClinicalStatusCodes Code (inactive)&quot;)</li> \n  <li style=\"width:80%\">code &quot;allergy-refuted&quot; (&quot;AllergyIntoleranceVerificationStatusCodes Code (refuted)&quot;)</li> \n  <li style=\"width:80%\">code &quot;allergy-resolved&quot; (&quot;AllergyIntoleranceClinicalStatusCodes Code (resolved)&quot;)</li> \n  <li style=\"width:80%\">code &quot;allergy-unconfirmed&quot; (&quot;AllergyIntoleranceVerificationStatusCodes Code (unconfirmed)&quot;)</li> \n  <li style=\"width:80%\">code &quot;Billing&quot; (&quot;Diagnosis Role Code (billing)&quot;)</li> \n  <li style=\"width:80%\">code &quot;Birthdate&quot; (&quot;LOINC Code (21112-8)&quot;)</li> \n  <li style=\"width:80%\">code &quot;Community&quot; (&quot;MedicationRequestCategory Code (community)&quot;)</li> \n  <li style=\"width:80%\">code &quot;confirmed&quot; (&quot;ConditionVerificationStatusCodes Code (confirmed)&quot;)</li> \n  <li style=\"width:80%\">code &quot;Dead&quot; (&quot;SNOMEDCT Code (419099009)&quot;)</li> \n  <li style=\"width:80%\">code &quot;differential&quot; (&quot;ConditionVerificationStatusCodes Code (differential)&quot;)</li> \n  <li style=\"width:80%\">code &quot;Discharge&quot; (&quot;MedicationRequestCategory Code (discharge)&quot;)</li> \n  <li style=\"width:80%\">code &quot;entered-in-error&quot; (&quot;ConditionVerificationStatusCodes Code (entered-in-error)&quot;)</li> \n  <li style=\"width:80%\">code &quot;ER&quot; (&quot;RoleCode Code (ER)&quot;)</li> \n  <li style=\"width:80%\">code &quot;ICU&quot; (&quot;RoleCode Code (ICU)&quot;)</li> \n  <li style=\"width:80%\">code &quot;inactive&quot; (&quot;ConditionClinicalStatusCodes Code (inactive)&quot;)</li> \n  <li style=\"width:80%\">code &quot;provisional&quot; (&quot;ConditionVerificationStatusCodes Code (provisional)&quot;)</li> \n  <li style=\"width:80%\">code &quot;recurrence&quot; (&quot;ConditionClinicalStatusCodes Code (recurrence)&quot;)</li> \n  <li style=\"width:80%\">code &quot;refuted&quot; (&quot;ConditionVerificationStatusCodes Code (refuted)&quot;)</li> \n  <li style=\"width:80%\">code &quot;relapse&quot; (&quot;ConditionClinicalStatusCodes Code (relapse)&quot;)</li> \n  <li style=\"width:80%\">code &quot;remission&quot; (&quot;ConditionClinicalStatusCodes Code (remission)&quot;)</li> \n  <li style=\"width:80%\">code &quot;resolved&quot; (&quot;ConditionClinicalStatusCodes Code (resolved)&quot;)</li> \n  <li style=\"width:80%\">code &quot;Risk for venous thromboembolism&quot; (&quot;LOINC Code (72136-5)&quot;)</li> \n  <li style=\"width:80%\">code &quot;unconfirmed&quot; (&quot;ConditionVerificationStatusCodes Code (unconfirmed)&quot;)</li> \n  <li style=\"width:80%\">valueset &quot;Atrial Fibrillation/Flutter&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202)</li> \n  <li style=\"width:80%\">valueset &quot;Comfort Measures&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45)</li> \n  <li style=\"width:80%\">valueset &quot;Device Application&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.48)</li> \n  <li style=\"width:80%\">valueset &quot;Direct Thrombin Inhibitor&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205)</li> \n  <li style=\"width:80%\">valueset &quot;Emergency Department Visit&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292)</li> \n  <li style=\"width:80%\">valueset &quot;Encounter Inpatient&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307)</li> \n  <li style=\"width:80%\">valueset &quot;Ethnicity&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.837)</li> \n  <li style=\"width:80%\">valueset &quot;General or Neuraxial Anesthesia&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743)</li> \n  <li style=\"width:80%\">valueset &quot;General Surgery&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255)</li> \n  <li style=\"width:80%\">valueset &quot;Glycoprotein IIb/IIIa Inhibitors&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41)</li> \n  <li style=\"width:80%\">valueset &quot;Graduated compression stockings (GCS)&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256)</li> \n  <li style=\"width:80%\">valueset &quot;Gynecological Surgery&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257)</li> \n  <li style=\"width:80%\">valueset &quot;Hemorrhagic Stroke&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212)</li> \n  <li style=\"width:80%\">valueset &quot;Hip Fracture Surgery&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258)</li> \n  <li style=\"width:80%\">valueset &quot;Hip Replacement Surgery&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259)</li> \n  <li style=\"width:80%\">valueset &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211)</li> \n  <li style=\"width:80%\">valueset &quot;INR&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213)</li> \n  <li style=\"width:80%\">valueset &quot;Intensive Care Unit&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1029.206)</li> \n  <li style=\"width:80%\">valueset &quot;Intermittent pneumatic compression devices (IPC)&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214)</li> \n  <li style=\"width:80%\">valueset &quot;Intracranial Neurosurgery&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260)</li> \n  <li style=\"width:80%\">valueset &quot;Intravenous route&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.222)</li> \n  <li style=\"width:80%\">valueset &quot;Ischemic Stroke&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247)</li> \n  <li style=\"width:80%\">valueset &quot;Knee Replacement Surgery&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261)</li> \n  <li style=\"width:80%\">valueset &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39)</li> \n  <li style=\"width:80%\">valueset &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219)</li> \n  <li style=\"width:80%\">valueset &quot;Low Risk&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.400)</li> \n  <li style=\"width:80%\">valueset &quot;Medical Reason&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473)</li> \n  <li style=\"width:80%\">valueset &quot;Mental Health Diagnoses&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.105.12.1004)</li> \n  <li style=\"width:80%\">valueset &quot;Observation Services&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143)</li> \n  <li style=\"width:80%\">valueset &quot;Obstetrics&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.263)</li> \n  <li style=\"width:80%\">valueset &quot;Obstetrics VTE&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.264)</li> \n  <li style=\"width:80%\">valueset &quot;ONC Administrative Sex&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1)</li> \n  <li style=\"width:80%\">valueset &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134)</li> \n  <li style=\"width:80%\">valueset &quot;Patient Refusal&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93)</li> \n  <li style=\"width:80%\">valueset &quot;Payer&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591)</li> \n  <li style=\"width:80%\">valueset &quot;Race&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.836)</li> \n  <li style=\"width:80%\">valueset &quot;Rivaroxaban for VTE Prophylaxis&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50)</li> \n  <li style=\"width:80%\">valueset &quot;Subcutaneous route&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.223)</li> \n  <li style=\"width:80%\">valueset &quot;Unfractionated Heparin&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218)</li> \n  <li style=\"width:80%\">valueset &quot;Urological Surgery&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272)</li> \n  <li style=\"width:80%\">valueset &quot;Venous foot pumps (VFP)&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230)</li> \n  <li style=\"width:80%\">valueset &quot;Venous Thromboembolism&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279)</li> \n  <li style=\"width:80%\">valueset &quot;Warfarin&quot; (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232)</li> \n </ul> \n</div> \n<h3><a name=\"d1e647\" href=\"#toc\">Data Criteria (FHIR Data Requirements)</a></h3> \n<div> \n <ul style=\"padding-left: 50px;\"> \n  <li style=\"width:80%\">&quot;Condition&quot;</li> \n  <li style=\"width:80%\">&quot;Condition: Atrial Fibrillation/Flutter&quot; using &quot;Atrial Fibrillation/Flutter (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202)&quot;</li> \n  <li style=\"width:80%\">&quot;Condition: Venous Thromboembolism&quot; using &quot;Venous Thromboembolism (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279)&quot;</li> \n  <li style=\"width:80%\">&quot;Coverage: Payer&quot; using &quot;Payer (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591)&quot;</li> \n  <li style=\"width:80%\">&quot;Encounter: Emergency Department Visit&quot; using &quot;Emergency Department Visit (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292)&quot;</li> \n  <li style=\"width:80%\">&quot;Encounter: Encounter Inpatient&quot; using &quot;Encounter Inpatient (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307)&quot;</li> \n  <li style=\"width:80%\">&quot;Encounter: Observation Services&quot; using &quot;Observation Services (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143)&quot;</li> \n  <li style=\"width:80%\">&quot;Location&quot;</li> \n  <li style=\"width:80%\">&quot;Medication&quot;</li> \n  <li style=\"width:80%\">&quot;MedicationAdministration: Direct Thrombin Inhibitor&quot; using &quot;Direct Thrombin Inhibitor (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205)&quot;</li> \n  <li style=\"width:80%\">&quot;MedicationAdministration: Glycoprotein IIb/IIIa Inhibitors&quot; using &quot;Glycoprotein IIb/IIIa Inhibitors (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41)&quot;</li> \n  <li style=\"width:80%\">&quot;MedicationAdministration: Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot; using &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211)&quot;</li> \n  <li style=\"width:80%\">&quot;MedicationAdministration: Low Dose Unfractionated Heparin for VTE Prophylaxis&quot; using &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39)&quot;</li> \n  <li style=\"width:80%\">&quot;MedicationAdministration: Low Molecular Weight Heparin for VTE Prophylaxis&quot; using &quot;Low Molecular Weight Heparin for VTE Prophylaxis (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219)&quot;</li> \n  <li style=\"width:80%\">&quot;MedicationAdministration: Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot; using &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134)&quot;</li> \n  <li style=\"width:80%\">&quot;MedicationAdministration: Rivaroxaban for VTE Prophylaxis&quot; using &quot;Rivaroxaban for VTE Prophylaxis (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50)&quot;</li> \n  <li style=\"width:80%\">&quot;MedicationAdministration: Unfractionated Heparin&quot; using &quot;Unfractionated Heparin (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218)&quot;</li> \n  <li style=\"width:80%\">&quot;MedicationAdministration: Warfarin&quot; using &quot;Warfarin (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232)&quot;</li> \n  <li style=\"width:80%\">&quot;Observation: INR&quot; using &quot;INR (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213)&quot;</li> \n  <li style=\"width:80%\">&quot;Observation: Risk for venous thromboembolism&quot; using &quot;Risk for venous thromboembolism (LOINC Code 72136-5)&quot;</li> \n  <li style=\"width:80%\">&quot;Procedure: Device Application&quot; using &quot;Device Application (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.48)&quot;</li> \n  <li style=\"width:80%\">&quot;Procedure: General or Neuraxial Anesthesia&quot; using &quot;General or Neuraxial Anesthesia (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743)&quot;</li> \n  <li style=\"width:80%\">&quot;Procedure: General Surgery&quot; using &quot;General Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255)&quot;</li> \n  <li style=\"width:80%\">&quot;Procedure: Gynecological Surgery&quot; using &quot;Gynecological Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257)&quot;</li> \n  <li style=\"width:80%\">&quot;Procedure: Hip Fracture Surgery&quot; using &quot;Hip Fracture Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258)&quot;</li> \n  <li style=\"width:80%\">&quot;Procedure: Hip Replacement Surgery&quot; using &quot;Hip Replacement Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259)&quot;</li> \n  <li style=\"width:80%\">&quot;Procedure: Intracranial Neurosurgery&quot; using &quot;Intracranial Neurosurgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260)&quot;</li> \n  <li style=\"width:80%\">&quot;Procedure: Knee Replacement Surgery&quot; using &quot;Knee Replacement Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261)&quot;</li> \n  <li style=\"width:80%\">&quot;Procedure: Urological Surgery&quot; using &quot;Urological Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272)&quot;</li> \n  <li style=\"width:80%\">&quot;Provenance&quot;</li> \n  <li style=\"width:80%\">&quot;ServiceRequest: Comfort Measures&quot; using &quot;Comfort Measures (http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45)&quot;</li> \n  <li style=\"width:80%\">&quot;ServiceRequest: Graduated compression stockings (GCS)&quot; using &quot;Graduated compression stockings (GCS) (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256)&quot;</li> \n  <li style=\"width:80%\">&quot;ServiceRequest: Intermittent pneumatic compression devices (IPC)&quot; using &quot;Intermittent pneumatic compression devices (IPC) (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214)&quot;</li> \n  <li style=\"width:80%\">&quot;ServiceRequest: Venous foot pumps (VFP)&quot; using &quot;Venous foot pumps (VFP) (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230)&quot;</li> \n </ul> \n</div>\n<h3><a name=\"d1e767\" href=\"#toc\">Supplemental Data Elements</a></h3> \n<ul style=\"list-style:none;padding-left: 25px;\"> \n <li class=\"list-unstyled\"> \n  <div class=\"treeview hover p-l-10\"> \n   <input id=\"SDE_Ethnicity44030445\" type=\"checkbox\"/> <label for=\"SDE_Ethnicity44030445\" class=\"list-header\"><strong>SDE Ethnicity</strong></label> \n   <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n    <li class=\"list-unstyled\"> \n     <div> \n      <ul style=\"padding-left: 0px;\"> \n       <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n        <div> \n         <pre class=\"cql-definition-body\">SDE.&quot;SDE Ethnicity&quot;</pre> \n        </div> </li> \n      </ul>  \n     </div> </li> \n   </ul> \n  </div> </li>\n <li class=\"list-unstyled\"> \n  <div class=\"treeview hover p-l-10\"> \n   <input id=\"SDE_Payer1407106521\" type=\"checkbox\"/> <label for=\"SDE_Payer1407106521\" class=\"list-header\"><strong>SDE Payer</strong></label> \n   <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n    <li class=\"list-unstyled\"> \n     <div> \n      <ul style=\"padding-left: 0px;\"> \n       <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n        <div> \n         <pre class=\"cql-definition-body\">SDE.&quot;SDE Payer&quot;</pre> \n        </div> </li> \n      </ul>  \n     </div> </li> \n   </ul> \n  </div> </li>\n <li class=\"list-unstyled\"> \n  <div class=\"treeview hover p-l-10\"> \n   <input id=\"SDE_Race982942437\" type=\"checkbox\"/> <label for=\"SDE_Race982942437\" class=\"list-header\"><strong>SDE Race</strong></label> \n   <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n    <li class=\"list-unstyled\"> \n     <div> \n      <ul style=\"padding-left: 0px;\"> \n       <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n        <div> \n         <pre class=\"cql-definition-body\">SDE.&quot;SDE Race&quot;</pre> \n        </div> </li> \n      </ul>  \n     </div> </li> \n   </ul> \n  </div> </li>\n <li class=\"list-unstyled\"> \n  <div class=\"treeview hover p-l-10\"> \n   <input id=\"SDE_Sex1441053237\" type=\"checkbox\"/> <label for=\"SDE_Sex1441053237\" class=\"list-header\"><strong>SDE Sex</strong></label> \n   <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\"> \n    <li class=\"list-unstyled\"> \n     <div> \n      <ul style=\"padding-left: 0px;\"> \n       <li style=\"padding-left: 0px;\" class=\"list-unstyled\"> \n        <div> \n         <pre class=\"cql-definition-body\">SDE.&quot;SDE Sex&quot;</pre> \n        </div> </li> \n      </ul>  \n     </div> </li> \n   </ul> \n  </div> </li>\n</ul>\n<h3><a name=\"d1e879\" href=\"#toc\">Risk Adjustment Variables</a></h3> \n<ul style=\"list-style:none;padding-left: 25px;\"> \n <li>None</li> \n</ul>\n<div style=\"float:left; background:teal; height:3px; width:80%\"/> \n<pre><br/></pre>\n<table role=\"presentation\" class=\"header_table\"> \n <tbody> \n  <tr> \n   <th scope=\"row\" class=\"row-header\"><span class=\"td_label\">Measure Set</span></th> \n   <td colspan=\"3\" style=\"width:80%\"> \n    <div style=\"width:660px;\"> \n     <pre>eMeasure Venous Thromboembolism (eVTE)</pre> \n    </div> </td> \n  </tr> \n </tbody> \n</table></div>"
  },
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "http://ecqi.healthit.gov/ecqms/Library/VenousThromboembolismProphylaxisFHIR",
  "version": "0.0.006",
  "name": "VenousThromboembolismProphylaxisFHIR",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2021-09-07T21:21:43+00:00",
  "publisher": "The Joint Commission",
  "description": "Venous Thromboembolism ProphylaxisFHIR",
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBWZW5vdXNUaHJvbWJvZW1ib2xpc21Qcm9waHlsYXhpc0ZISVIgdmVyc2lvbiAnMC4wLjAwNicKCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnCgppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMS4wMDAnIGNhbGxlZCBGSElSSGVscGVycwppbmNsdWRlIFN1cHBsZW1lbnRhbERhdGFFbGVtZW50c0ZISVI0IHZlcnNpb24gJzMuMC4wMDAnIGNhbGxlZCBTREUKaW5jbHVkZSBNQVRHbG9iYWxDb21tb25GdW5jdGlvbnNGSElSNCB2ZXJzaW9uICc3LjAuMDAwJyBjYWxsZWQgR2xvYmFsCmluY2x1ZGUgRkhJUkNvbW1vbiB2ZXJzaW9uICcxLjEuMDAwJyBjYWxsZWQgQ29tbW9uCmluY2x1ZGUgVlRFRkhJUjQgdmVyc2lvbiAnNi4wLjAwMCcgY2FsbGVkIFZURQoKY29kZXN5c3RlbSAiTE9JTkMiOiAnaHR0cDovL2xvaW5jLm9yZycgCgp2YWx1ZXNldCAiQXRyaWFsIEZpYnJpbGxhdGlvbi9GbHV0dGVyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMDInIAp2YWx1ZXNldCAiQ29tZm9ydCBNZWFzdXJlcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMS4zLjYuMS40LjEuMzM4OTUuMS4zLjAuNDUnIAp2YWx1ZXNldCAiRGV2aWNlIEFwcGxpY2F0aW9uIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTExMC40OCcgCnZhbHVlc2V0ICJEaXJlY3QgVGhyb21iaW4gSW5oaWJpdG9yIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMDUnIAp2YWx1ZXNldCAiRW1lcmdlbmN5IERlcGFydG1lbnQgVmlzaXQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjI5MicgCnZhbHVlc2V0ICJHZW5lcmFsIG9yIE5ldXJheGlhbCBBbmVzdGhlc2lhIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjY2Ni41LjE3NDMnIAp2YWx1ZXNldCAiR2VuZXJhbCBTdXJnZXJ5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yNTUnIAp2YWx1ZXNldCAiR2x5Y29wcm90ZWluIElJYi9JSUlhIEluaGliaXRvcnMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMDQ1LjQxJyAKdmFsdWVzZXQgIkdyYWR1YXRlZCBjb21wcmVzc2lvbiBzdG9ja2luZ3MgKEdDUykiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjI1NicgCnZhbHVlc2V0ICJHeW5lY29sb2dpY2FsIFN1cmdlcnkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjI1NycgCnZhbHVlc2V0ICJIZW1vcnJoYWdpYyBTdHJva2UiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjIxMicgCnZhbHVlc2V0ICJIaXAgRnJhY3R1cmUgU3VyZ2VyeSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjU4JyAKdmFsdWVzZXQgIkhpcCBSZXBsYWNlbWVudCBTdXJnZXJ5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yNTknIAp2YWx1ZXNldCAiSW5qZWN0YWJsZSBGYWN0b3IgWGEgSW5oaWJpdG9yIGZvciBWVEUgUHJvcGh5bGF4aXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjIxMScgCnZhbHVlc2V0ICJJTlIiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjIxMycgCnZhbHVlc2V0ICJJbnRlbnNpdmUgQ2FyZSBVbml0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTAyOS4yMDYnIAp2YWx1ZXNldCAiSW50ZXJtaXR0ZW50IHBuZXVtYXRpYyBjb21wcmVzc2lvbiBkZXZpY2VzIChJUEMpIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMTQnIAp2YWx1ZXNldCAiSW50cmFjcmFuaWFsIE5ldXJvc3VyZ2VyeSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjYwJyAKdmFsdWVzZXQgIkludHJhdmVub3VzIHJvdXRlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMjInIAp2YWx1ZXNldCAiSXNjaGVtaWMgU3Ryb2tlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yNDcnIAp2YWx1ZXNldCAiS25lZSBSZXBsYWNlbWVudCBTdXJnZXJ5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yNjEnIAp2YWx1ZXNldCAiTG93IERvc2UgVW5mcmFjdGlvbmF0ZWQgSGVwYXJpbiBmb3IgVlRFIFByb3BoeWxheGlzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTA0NS4zOScgCnZhbHVlc2V0ICJMb3cgTW9sZWN1bGFyIFdlaWdodCBIZXBhcmluIGZvciBWVEUgUHJvcGh5bGF4aXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjIxOScgCnZhbHVlc2V0ICJMb3cgUmlzayI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuNDAwJyAKdmFsdWVzZXQgIk1lZGljYWwgUmVhc29uIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS40NzMnIAp2YWx1ZXNldCAiTWVudGFsIEhlYWx0aCBEaWFnbm9zZXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTA1LjEyLjEwMDQnIAp2YWx1ZXNldCAiT2JzdGV0cmljcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjYzJyAKdmFsdWVzZXQgIk9ic3RldHJpY3MgVlRFIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yNjQnIAp2YWx1ZXNldCAiT3JhbCBGYWN0b3IgWGEgSW5oaWJpdG9yIGZvciBWVEUgUHJvcGh5bGF4aXMgb3IgVlRFIFRyZWF0bWVudCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMTM0JyAKdmFsdWVzZXQgIlBhdGllbnQgUmVmdXNhbCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuOTMnIAp2YWx1ZXNldCAiUml2YXJveGFiYW4gZm9yIFZURSBQcm9waHlsYXhpcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExMTAuNTAnIAp2YWx1ZXNldCAiU3ViY3V0YW5lb3VzIHJvdXRlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMjMnIAp2YWx1ZXNldCAiVW5mcmFjdGlvbmF0ZWQgSGVwYXJpbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjE4JyAKdmFsdWVzZXQgIlVyb2xvZ2ljYWwgU3VyZ2VyeSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjcyJyAKdmFsdWVzZXQgIlZlbm91cyBmb290IHB1bXBzIChWRlApIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMzAnIAp2YWx1ZXNldCAiVmVub3VzIFRocm9tYm9lbWJvbGlzbSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjc5JyAKdmFsdWVzZXQgIldhcmZhcmluIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMzInIAoKY29kZSAiUmlzayBmb3IgdmVub3VzIHRocm9tYm9lbWJvbGlzbSI6ICc3MjEzNi01JyBmcm9tICJMT0lOQyIgZGlzcGxheSAnUmlzayBmb3IgdmVub3VzIHRocm9tYm9lbWJvbGlzbScKCnBhcmFtZXRlciAiTWVhc3VyZW1lbnQgUGVyaW9kIiBJbnRlcnZhbDxEYXRlVGltZT4KCmNvbnRleHQgUGF0aWVudAoKZGVmaW5lICJTREUgRXRobmljaXR5IjoKICBTREUuIlNERSBFdGhuaWNpdHkiCgpkZWZpbmUgIlNERSBQYXllciI6CiAgU0RFLiJTREUgUGF5ZXIiCgpkZWZpbmUgIlNERSBSYWNlIjoKICBTREUuIlNERSBSYWNlIgoKZGVmaW5lICJTREUgU2V4IjoKICBTREUuIlNERSBTZXgiCgpkZWZpbmUgIkluaXRpYWwgUG9wdWxhdGlvbiI6CiAgIkVuY291bnRlciB3aXRoIEFnZSBSYW5nZSBhbmQgd2l0aG91dCBWVEUgRGlhZ25vc2lzIG9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiCgpkZWZpbmUgIkFkbWlzc2lvbiB3aXRob3V0IFZURSBvciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIjoKICBHbG9iYWwuIklucGF0aWVudCBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkJICAgIHdoZXJlIG5vdCAoZXhpc3RzIChHbG9iYWwuRW5jb3VudGVyRGlhZ25vc2lzKElucGF0aWVudEVuY291bnRlcikpIEVuY291bnRlckRpYWdub3NpcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgKEVuY291bnRlckRpYWdub3Npcy5jb2RlIGluICJPYnN0ZXRyaWNzIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkJCQkJCQkJb3IgRW5jb3VudGVyRGlhZ25vc2lzLmNvZGUgaW4gIlZlbm91cyBUaHJvbWJvZW1ib2xpc20iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCQkJCQkJCQlvciBFbmNvdW50ZXJEaWFnbm9zaXMuY29kZSBpbiAiT2JzdGV0cmljcyBWVEUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCQkJICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQoKZGVmaW5lICJEZW5vbWluYXRvciI6CiAgIkluaXRpYWwgUG9wdWxhdGlvbiIKCmRlZmluZSAiRW5jb3VudGVyIHdpdGggUHJpbmNpcGFsIERpYWdub3NpcyBvZiBNZW50YWwgRGlzb3JkZXIgb3IgU3Ryb2tlIjoKICAiRW5jb3VudGVyIHdpdGggQWdlIFJhbmdlIGFuZCB3aXRob3V0IFZURSBEaWFnbm9zaXMgb3IgT2JzdGV0cmljYWwgQ29uZGl0aW9ucyIgUXVhbGlmeWluZ0VuY291bnRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBHbG9iYWwuIlByaW5jaXBhbERpYWdub3NpcyIoUXVhbGlmeWluZ0VuY291bnRlcikuY29kZSBpbiAiTWVudGFsIEhlYWx0aCBEaWFnbm9zZXMiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBHbG9iYWwuIlByaW5jaXBhbERpYWdub3NpcyIoUXVhbGlmeWluZ0VuY291bnRlcikuY29kZSBpbiAiSGVtb3JyaGFnaWMgU3Ryb2tlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgR2xvYmFsLiJQcmluY2lwYWxEaWFnbm9zaXMiKFF1YWxpZnlpbmdFbmNvdW50ZXIpLmNvZGUgaW4gIklzY2hlbWljIFN0cm9rZSIKCmRlZmluZSAiU0NJUCBWVEUgU2VsZWN0ZWQgU3VyZ2VyeSI6CiAgKAlbIlByb2NlZHVyZSI6ICJHZW5lcmFsIFN1cmdlcnkiXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlvbiBbIlByb2NlZHVyZSI6ICJHeW5lY29sb2dpY2FsIFN1cmdlcnkiXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlvbiBbIlByb2NlZHVyZSI6ICJIaXAgRnJhY3R1cmUgU3VyZ2VyeSJdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaW9uIFsiUHJvY2VkdXJlIjogIkhpcCBSZXBsYWNlbWVudCBTdXJnZXJ5Il0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pb24gWyJQcm9jZWR1cmUiOiAiSW50cmFjcmFuaWFsIE5ldXJvc3VyZ2VyeSJdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaW9uIFsiUHJvY2VkdXJlIjogIktuZWUgUmVwbGFjZW1lbnQgU3VyZ2VyeSJdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaW9uIFsiUHJvY2VkdXJlIjogIlVyb2xvZ2ljYWwgU3VyZ2VyeSJdICkgUHJvY2VkdXJlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBQcm9jZWR1cmUuc3RhdHVzID0gJ2NvbXBsZXRlZCcKCmRlZmluZSAiRW5jb3VudGVyIHdpdGggUHJpb3Igb3IgUHJlc2VudCBQcm9jZWR1cmUgb2YgSGlwIG9yIEtuZWUgUmVwbGFjZW1lbnQgU3VyZ2VyeSI6CiAgIkVuY291bnRlciB3aXRoIEFnZSBSYW5nZSBhbmQgd2l0aG91dCBWVEUgRGlhZ25vc2lzIG9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJd2l0aCAoIFsiUHJvY2VkdXJlIjogIkhpcCBSZXBsYWNlbWVudCBTdXJnZXJ5Il0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCQkJdW5pb24gWyJQcm9jZWR1cmUiOiAiS25lZSBSZXBsYWNlbWVudCBTdXJnZXJ5Il0gKSBIaXBLbmVlUHJvY2VkdXJlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCXN1Y2ggdGhhdCBIaXBLbmVlUHJvY2VkdXJlLnN0YXR1cyA9ICdjb21wbGV0ZWQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgYW5kIEdsb2JhbC4iTm9ybWFsaXplIEludGVydmFsIihIaXBLbmVlUHJvY2VkdXJlLnBlcmZvcm1lZCkgc3RhcnRzIG9uIG9yIGJlZm9yZSBlbmQgb2YgUXVhbGlmeWluZ0VuY291bnRlci5wZXJpb2QKCmRlZmluZSAiRW5jb3VudGVyIHdpdGggTG93IFJpc2sgZm9yIFZURSBvciBBbnRpY29hZ3VsYW50IEFkbWluaXN0ZXJlZCI6CiAgIkxvdyBSaXNrIGZvciBWVEUgb3IgQW50aWNvYWd1bGFudCBBZG1pbmlzdGVyZWQgRnJvbSBEYXkgb2YgU3RhcnQgb2YgSG9zcGl0YWxpemF0aW9uIFRvIERheSBBZnRlciBBZG1pc3Npb24iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCSB1bmlvbiAiTG93IFJpc2sgZm9yIFZURSBvciBBbnRpY29hZ3VsYW50IEFkbWluaXN0ZXJlZCBvbiBEYXkgb2Ygb3IgRGF5IEFmdGVyIFByb2NlZHVyZSIKCmRlZmluZSAiRW5jb3VudGVyIHdpdGggTm8gVlRFIFByb3BoeWxheGlzIER1ZSB0byBNZWRpY2FsIFJlYXNvbiI6CiAgKCAiTm8gVlRFIFByb3BoeWxheGlzIE1lZGljYXRpb24gRHVlIHRvIE1lZGljYWwgUmVhc29uIEZyb20gRGF5IG9mIFN0YXJ0IG9mIEhvc3BpdGFsaXphdGlvbiBUbyBEYXkgQWZ0ZXIgQWRtaXNzaW9uIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0ICJObyBWVEUgUHJvcGh5bGF4aXMgRGV2aWNlIER1ZSB0byBNZWRpY2FsIFJlYXNvbiBGcm9tIERheSBvZiBTdGFydCBvZiBIb3NwaXRhbGl6YXRpb24gVG8gRGF5IEFmdGVyIEFkbWlzc2lvbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pb24gKCAiTm8gVlRFIFByb3BoeWxheGlzIE1lZGljYXRpb24gRHVlIHRvIE1lZGljYWwgUmVhc29uIG9uIERheSBvZiBvciBEYXkgQWZ0ZXIgUHJvY2VkdXJlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3QgIk5vIFZURSBQcm9waHlsYXhpcyBEZXZpY2UgRHVlIHRvIE1lZGljYWwgUmVhc29uIG9uIERheSBvZiBvciBEYXkgQWZ0ZXIgUHJvY2VkdXJlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCgpkZWZpbmUgIkVuY291bnRlciB3aXRoIE5vIFZURSBQcm9waHlsYXhpcyBEdWUgdG8gUGF0aWVudCBSZWZ1c2FsIjoKICAiTm8gVlRFIFByb3BoeWxheGlzIER1ZSB0byBQYXRpZW50IFJlZnVzYWwgRnJvbSBEYXkgb2YgU3RhcnQgb2YgSG9zcGl0YWxpemF0aW9uIFRvIERheSBBZnRlciBBZG1pc3Npb24iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAl1bmlvbiAiTm8gVlRFIFByb3BoeWxheGlzIER1ZSB0byBQYXRpZW50IFJlZnVzYWwgb24gRGF5IG9mIG9yIERheSBBZnRlciBQcm9jZWR1cmUiCgpkZWZpbmUgIkVuY291bnRlciB3aXRoIFByaW5jaXBhbCBQcm9jZWR1cmUgb2YgU0NJUCBWVEUgU2VsZWN0ZWQgU3VyZ2VyeSI6CiAgZnJvbQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbmNvdW50ZXIgd2l0aCBBZ2UgUmFuZ2UgYW5kIHdpdGhvdXQgVlRFIERpYWdub3NpcyBvciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJTQ0lQIFZURSBTZWxlY3RlZCBTdXJnZXJ5IiBTZWxlY3RlZFByb2NlZHVyZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBFbmNvdW50ZXJQcm9jZWR1cmU6IENvbW1vbi5FeHRlbnNpb24oUXVhbGlmeWluZ0VuY291bnRlciwgJ3FpY29yZS1lbmNvdW50ZXItcHJvY2VkdXJlJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIEZISVJIZWxwZXJzLlRvSW50ZWdlcihDb21tb24uRXh0ZW5zaW9uKEVuY291bnRlclByb2NlZHVyZSwgJ3JhbmsnKS52YWx1ZSBhcyBGSElSLnBvc2l0aXZlSW50KSA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgR2xvYmFsLkdldElkKEZISVJIZWxwZXJzLlRvU3RyaW5nKChDb21tb24uRXh0ZW5zaW9uKEVuY291bnRlclByb2NlZHVyZSwgJ3Byb2NlZHVyZScpLnZhbHVlIGFzIEZISVIuUmVmZXJlbmNlKS5yZWZlcmVuY2UpKSA9IFNlbGVjdGVkUHJvY2VkdXJlLmlkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIEdsb2JhbC4iTm9ybWFsaXplIEludGVydmFsIihTZWxlY3RlZFByb2NlZHVyZS5wZXJmb3JtZWQpIGR1cmluZyBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBRdWFsaWZ5aW5nRW5jb3VudGVyCgpkZWZpbmUgIk5vIFZURSBQcm9waHlsYXhpcyBEZXZpY2UgQXBwbGllZCBvciBPcmRlcmVkIjoKICAoKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIlNlcnZpY2VSZXF1ZXN0IjogIlZlbm91cyBmb290IHB1bXBzIChWRlApIl0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pb24gWyJTZXJ2aWNlUmVxdWVzdCI6ICJJbnRlcm1pdHRlbnQgcG5ldW1hdGljIGNvbXByZXNzaW9uIGRldmljZXMgKElQQykiXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlvbiBbIlNlcnZpY2VSZXF1ZXN0IjogIkdyYWR1YXRlZCBjb21wcmVzc2lvbiBzdG9ja2luZ3MgKEdDUykiXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIERldmljZU9yZGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIERldmljZU9yZGVyLnN0YXR1cyA9ICdjb21wbGV0ZWQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgRGV2aWNlT3JkZXIuZG9Ob3RQZXJmb3JtIGlzIHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtpZDogRGV2aWNlT3JkZXIuaWQsIHJlcXVlc3RTdGF0dXNSZWFzb246IEdldFN0YXR1c1JlYXNvbihEZXZpY2VPcmRlciksIGF1dGhvcmVkT246IERldmljZU9yZGVyLmF1dGhvcmVkT259CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIlByb2NlZHVyZSI6ICJEZXZpY2UgQXBwbGljYXRpb24iXSBEZXZpY2VBcHBsaWVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IERldmljZU5vdERvbmVUaW1pbmc6IENvbW1vbi5FeHRlbnNpb24oRGV2aWNlQXBwbGllZCwgJ3FpY29yZS1yZWNvcmRlZCcpLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgKERldmljZUFwcGxpZWQudXNlZENvZGUgaW4gIkludGVybWl0dGVudCBwbmV1bWF0aWMgY29tcHJlc3Npb24gZGV2aWNlcyAoSVBDKSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBEZXZpY2VBcHBsaWVkLnVzZWRDb2RlIGluICJWZW5vdXMgZm9vdCBwdW1wcyAoVkZQKSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBEZXZpY2VBcHBsaWVkLnVzZWRDb2RlIGluICJHcmFkdWF0ZWQgY29tcHJlc3Npb24gc3RvY2tpbmdzIChHQ1MpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgIERldmljZUFwcGxpZWQuc3RhdHVzID0gJ25vdC1kb25lJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7aWQ6IERldmljZUFwcGxpZWQuaWQsIHJlcXVlc3RTdGF0dXNSZWFzb246IERldmljZUFwcGxpZWQuc3RhdHVzUmVhc29uLCBhdXRob3JlZE9uOiBEZXZpY2VOb3REb25lVGltaW5nfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCgpkZWZpbmUgIk5vIFZURSBQcm9waHlsYXhpcyBEZXZpY2UgRHVlIHRvIE1lZGljYWwgUmVhc29uIEZyb20gRGF5IG9mIFN0YXJ0IG9mIEhvc3BpdGFsaXphdGlvbiBUbyBEYXkgQWZ0ZXIgQWRtaXNzaW9uIjoKICAiRW5jb3VudGVyIHdpdGggQWdlIFJhbmdlIGFuZCB3aXRob3V0IFZURSBEaWFnbm9zaXMgb3IgT2JzdGV0cmljYWwgQ29uZGl0aW9ucyIgUXVhbGlmeWluZ0VuY291bnRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCXdpdGggIk5vIFZURSBQcm9waHlsYXhpcyBEZXZpY2UgQXBwbGllZCBvciBPcmRlcmVkIiBOb1ZURURldmljZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2ggdGhhdCBOb1ZURURldmljZS5yZXF1ZXN0U3RhdHVzUmVhc29uIGluICJNZWRpY2FsIFJlYXNvbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCAgTm9WVEVEZXZpY2UuYXV0aG9yZWRPbiBkdXJpbmcgZGF5IG9mIFZURS4iRnJvbURheU9mU3RhcnRPZkhvc3BpdGFsaXphdGlvblRvRGF5QWZ0ZXJBZG1pc3Npb24iKFF1YWxpZnlpbmdFbmNvdW50ZXIpCgpkZWZpbmUgIlZURSBQcm9waHlsYXhpcyBieSBNZWRpY2F0aW9uIEFkbWluaXN0ZXJlZCBvciBEZXZpY2UgQXBwbGllZCI6CiAgKCBbIk1lZGljYXRpb25BZG1pbmlzdHJhdGlvbiI6ICJMb3cgRG9zZSBVbmZyYWN0aW9uYXRlZCBIZXBhcmluIGZvciBWVEUgUHJvcGh5bGF4aXMiXSBWVEVNZWRpY2F0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgVlRFTWVkaWNhdGlvbi5zdGF0dXMgPSdjb21wbGV0ZWQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCQkJICAgICBhbmQgVlRFTWVkaWNhdGlvbi5kb3NhZ2Uucm91dGUgaW4gIlN1YmN1dGFuZW91cyByb3V0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlvbiAoWyJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24iOiAiTG93IE1vbGVjdWxhciBXZWlnaHQgSGVwYXJpbiBmb3IgVlRFIFByb3BoeWxheGlzIl0gTE1XSCB3aGVyZSBMTVdILnN0YXR1cyA9ICdjb21wbGV0ZWQnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlvbiAoWyJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24iOiAiSW5qZWN0YWJsZSBGYWN0b3IgWGEgSW5oaWJpdG9yIGZvciBWVEUgUHJvcGh5bGF4aXMiXSBGYWN0b3JYYSB3aGVyZSBGYWN0b3JYYS5zdGF0dXMgPSAnY29tcGxldGVkJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaW9uIChbIk1lZGljYXRpb25BZG1pbmlzdHJhdGlvbiI6ICJXYXJmYXJpbiJdIFdhcmZhcmluIHdoZXJlIFdhcmZhcmluLnN0YXR1cyA9ICdjb21wbGV0ZWQnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pb24gKFsiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uIjogIlJpdmFyb3hhYmFuIGZvciBWVEUgUHJvcGh5bGF4aXMiXSBSaXZhcm94YWJhbiB3aGVyZSBSaXZhcm94YWJhbi5zdGF0dXMgPSAnY29tcGxldGVkJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlvbiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsiUHJvY2VkdXJlIjogIkRldmljZSBBcHBsaWNhdGlvbiJdIERldmljZUFwcGxpZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmUgRGV2aWNlQXBwbGllZC5zdGF0dXMgPSAnY29tcGxldGVkJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgKERldmljZUFwcGxpZWQudXNlZENvZGUgaW4gIkludGVybWl0dGVudCBwbmV1bWF0aWMgY29tcHJlc3Npb24gZGV2aWNlcyAoSVBDKSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIERldmljZUFwcGxpZWQudXNlZENvZGUgaW4iVmVub3VzIGZvb3QgcHVtcHMgKFZGUCkiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBEZXZpY2VBcHBsaWVkLnVzZWRDb2RlIGluICJHcmFkdWF0ZWQgY29tcHJlc3Npb24gc3RvY2tpbmdzIChHQ1MpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCgpkZWZpbmUgIkVuY291bnRlciB3aXRoIEFnZSBSYW5nZSBhbmQgd2l0aG91dCBWVEUgRGlhZ25vc2lzIG9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiOgogICggR2xvYmFsLiJJbnBhdGllbnQgRW5jb3VudGVyIiBJbnBhdGllbnRFbmNvdW50ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCQl3aGVyZSBBZ2VJblllYXJzQXQoc3RhcnQgb2YgSW5wYXRpZW50RW5jb3VudGVyLnBlcmlvZCkgPj0gMTgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3QgIkFkbWlzc2lvbiB3aXRob3V0IFZURSBvciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIgoKZGVmaW5lICJOdW1lcmF0b3IiOgogICJFbmNvdW50ZXIgd2l0aCBWVEUgUHJvcGh5bGF4aXMgUmVjZWl2ZWQgRnJvbSBEYXkgb2YgU3RhcnQgb2YgSG9zcGl0YWxpemF0aW9uIFRvIERheSBBZnRlciBBZG1pc3Npb24gb3IgUHJvY2VkdXJlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlvbiAoICJFbmNvdW50ZXIgd2l0aCBNZWRpY2F0aW9uIE9yYWwgRmFjdG9yIFhhIEluaGliaXRvciBBZG1pbmlzdGVyZWQgb24gRGF5IG9mIG9yIERheSBBZnRlciBBZG1pc3Npb24gb3IgUHJvY2VkdXJlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJCQkgIGludGVyc2VjdCAoICJFbmNvdW50ZXIgd2l0aCBQcmlvciBvciBQcmVzZW50IERpYWdub3NpcyBvZiBBdHJpYWwgRmlicmlsbGF0aW9uIG9yIFZURSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCQkJCQkJICAgIHVuaW9uICJFbmNvdW50ZXIgd2l0aCBQcmlvciBvciBQcmVzZW50IFByb2NlZHVyZSBvZiBIaXAgb3IgS25lZSBSZXBsYWNlbWVudCBTdXJnZXJ5IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJCQkgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pb24gIkVuY291bnRlciB3aXRoIExvdyBSaXNrIGZvciBWVEUgb3IgQW50aWNvYWd1bGFudCBBZG1pbmlzdGVyZWQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaW9uICJFbmNvdW50ZXIgd2l0aCBObyBWVEUgUHJvcGh5bGF4aXMgRHVlIHRvIE1lZGljYWwgUmVhc29uIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlvbiAiRW5jb3VudGVyIHdpdGggTm8gVlRFIFByb3BoeWxheGlzIER1ZSB0byBQYXRpZW50IFJlZnVzYWwiCgpkZWZpbmUgIkludGVydmVudGlvbiBDb21mb3J0IE1lYXN1cmVzIjoKICAoIFsiU2VydmljZVJlcXVlc3QiOiAiQ29tZm9ydCBNZWFzdXJlcyJdIFAKICAgICAgICAgICAgICAgICAgd2hlcmUgUC5pbnRlbnQgPSAnb3JkZXInCiAgICAgICAgICAgICAgICAgICAgYW5kIFAuc3RhdHVzIGluIHsgJ2FjdGl2ZScsICdvbi1ob2xkJywgJ2NvbXBsZXRlZCcgfQogICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHVuaW9uICggWyJQcm9jZWR1cmUiOiAiQ29tZm9ydCBNZWFzdXJlcyJdIEludGVydmVudGlvblBlcmZvcm1lZAogICAgICAgICAgICAgICAgICAgIHdoZXJlIEludGVydmVudGlvblBlcmZvcm1lZC5zdGF0dXMgaW4geyAnY29tcGxldGVkJywgJ2luLXByb2dyZXNzJyB9CiAgICAgICAgICAgICAgICApCgpkZWZpbmUgIk5vIFZURSBQcm9waHlsYXhpcyBNZWRpY2F0aW9uIEFkbWluaXN0ZXJlZCBvciBPcmRlcmVkIjoKICAoICggWyJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24iOiAiTG93IERvc2UgVW5mcmFjdGlvbmF0ZWQgSGVwYXJpbiBmb3IgVlRFIFByb3BoeWxheGlzIl0KICAgICAgICAgICAgICAgICAgdW5pb24gWyJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24iOiAiTG93IE1vbGVjdWxhciBXZWlnaHQgSGVwYXJpbiBmb3IgVlRFIFByb3BoeWxheGlzIl0KICAgICAgICAgICAgICAgICAgdW5pb24gWyJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24iOiAiSW5qZWN0YWJsZSBGYWN0b3IgWGEgSW5oaWJpdG9yIGZvciBWVEUgUHJvcGh5bGF4aXMiXQogICAgICAgICAgICAgICAgICB1bmlvbiBbIk1lZGljYXRpb25BZG1pbmlzdHJhdGlvbiI6ICJXYXJmYXJpbiJdCiAgICAgICAgICAgICAgICAgIHVuaW9uIFsiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uIjogIlJpdmFyb3hhYmFuIGZvciBWVEUgUHJvcGh5bGF4aXMiXSApIE1lZGljYXRpb25BZG0KICAgICAgICAgICAgICAgICAgbGV0IE1lZGljYXRpb25Ob3REb25lVGltaW5nOiBDb21tb24uRXh0ZW5zaW9uICggTWVkaWNhdGlvbkFkbSwgJ3FpY29yZS1yZWNvcmRlZCcgKS52YWx1ZQogICAgICAgICAgICAgICAgICB3aGVyZSBNZWRpY2F0aW9uQWRtLnN0YXR1cyA9ICdub3QtZG9uZScKICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBpZDogTWVkaWNhdGlvbkFkbS5pZCwKICAgICAgICAgICAgICAgICAgICBNZWRpY2F0aW9uU3RhdHVzUmVhc29uOiBNZWRpY2F0aW9uQWRtLnN0YXR1c1JlYXNvbiwKICAgICAgICAgICAgICAgICAgICBhdXRob3JlZE9uOiBNZWRpY2F0aW9uTm90RG9uZVRpbWluZwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgdW5pb24gKCAoIFsiTWVkaWNhdGlvblJlcXVlc3QiOiAiTG93IERvc2UgVW5mcmFjdGlvbmF0ZWQgSGVwYXJpbiBmb3IgVlRFIFByb3BoeWxheGlzIl0KICAgICAgICAgICAgICAgICAgICB1bmlvbiBbIk1lZGljYXRpb25SZXF1ZXN0IjogIkxvdyBNb2xlY3VsYXIgV2VpZ2h0IEhlcGFyaW4gZm9yIFZURSBQcm9waHlsYXhpcyJdCiAgICAgICAgICAgICAgICAgICAgdW5pb24gWyJNZWRpY2F0aW9uUmVxdWVzdCI6ICJJbmplY3RhYmxlIEZhY3RvciBYYSBJbmhpYml0b3IgZm9yIFZURSBQcm9waHlsYXhpcyJdCiAgICAgICAgICAgICAgICAgICAgdW5pb24gWyJNZWRpY2F0aW9uUmVxdWVzdCI6ICJXYXJmYXJpbiJdCiAgICAgICAgICAgICAgICAgICAgdW5pb24gWyJNZWRpY2F0aW9uUmVxdWVzdCI6ICJSaXZhcm94YWJhbiBmb3IgVlRFIFByb3BoeWxheGlzIl0gKSBNZWRpY2F0aW9uT3JkZXIKICAgICAgICAgICAgICAgICAgICB3aGVyZSBNZWRpY2F0aW9uT3JkZXIuZG9Ob3RQZXJmb3JtIGlzIHRydWUKICAgICAgICAgICAgICAgICAgICAgIGFuZCBNZWRpY2F0aW9uT3JkZXIuc3RhdHVzIGluIHsgJ2NvbXBsZXRlZCcsICdjYW5jZWxsZWQnIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgaWQ6IE1lZGljYXRpb25PcmRlci5pZCwKICAgICAgICAgICAgICAgICAgICAgIE1lZGljYXRpb25TdGF0dXNSZWFzb246IE1lZGljYXRpb25PcmRlci5yZWFzb25Db2RlLAogICAgICAgICAgICAgICAgICAgICAgYXV0aG9yZWRPbjogTWVkaWNhdGlvbk9yZGVyLmF1dGhvcmVkT24KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCgpkZWZpbmUgIk5vIFZURSBQcm9waHlsYXhpcyBNZWRpY2F0aW9uIER1ZSB0byBNZWRpY2FsIFJlYXNvbiBGcm9tIERheSBvZiBTdGFydCBvZiBIb3NwaXRhbGl6YXRpb24gVG8gRGF5IEFmdGVyIEFkbWlzc2lvbiI6CiAgIkVuY291bnRlciB3aXRoIEFnZSBSYW5nZSBhbmQgd2l0aG91dCBWVEUgRGlhZ25vc2lzIG9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgICAgICAgICAgICAgIHdpdGggIk5vIFZURSBQcm9waHlsYXhpcyBNZWRpY2F0aW9uIEFkbWluaXN0ZXJlZCBvciBPcmRlcmVkIiBOb1ZURU1lZGljYXRpb24KICAgICAgICAgICAgICAgICAgc3VjaCB0aGF0IE5vVlRFTWVkaWNhdGlvbi5NZWRpY2F0aW9uU3RhdHVzUmVhc29uIGluICJNZWRpY2FsIFJlYXNvbiIKICAgICAgICAgICAgICAgICAgICBhbmQgTm9WVEVNZWRpY2F0aW9uLmF1dGhvcmVkT24gZHVyaW5nIGRheSBvZiBWVEUuIkZyb21EYXlPZlN0YXJ0T2ZIb3NwaXRhbGl6YXRpb25Ub0RheUFmdGVyQWRtaXNzaW9uIiAoIFF1YWxpZnlpbmdFbmNvdW50ZXIgKQoKZGVmaW5lICJObyBWVEUgUHJvcGh5bGF4aXMgRHVlIHRvIFBhdGllbnQgUmVmdXNhbCBGcm9tIERheSBvZiBTdGFydCBvZiBIb3NwaXRhbGl6YXRpb24gVG8gRGF5IEFmdGVyIEFkbWlzc2lvbiI6CiAgIkVuY291bnRlciB3aXRoIEFnZSBSYW5nZSBhbmQgd2l0aG91dCBWVEUgRGlhZ25vc2lzIG9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgICAgICAgICAgICAgIHdpdGggIk5vIFZURSBQcm9waHlsYXhpcyBNZWRpY2F0aW9uIG9yIERldmljZSBEdWUgdG8gUGF0aWVudCBSZWZ1c2FsIiBQYXRpZW50UmVmdXNhbAogICAgICAgICAgICAgICAgICBzdWNoIHRoYXQgUGF0aWVudFJlZnVzYWwuYXV0aG9yZWRPbiBkdXJpbmcgZGF5IG9mIFZURS4iRnJvbURheU9mU3RhcnRPZkhvc3BpdGFsaXphdGlvblRvRGF5QWZ0ZXJBZG1pc3Npb24iICggUXVhbGlmeWluZ0VuY291bnRlciApCgpkZWZpbmUgIk5vIFZURSBQcm9waHlsYXhpcyBNZWRpY2F0aW9uIG9yIERldmljZSBEdWUgdG8gUGF0aWVudCBSZWZ1c2FsIjoKICAoICJObyBWVEUgUHJvcGh5bGF4aXMgTWVkaWNhdGlvbiBBZG1pbmlzdGVyZWQgb3IgT3JkZXJlZCIgTm9WVEVNZWRpY2F0aW9uCiAgICAgICAgICAgICAgICAgIHdoZXJlIE5vVlRFTWVkaWNhdGlvbi5NZWRpY2F0aW9uU3RhdHVzUmVhc29uIGluICJQYXRpZW50IFJlZnVzYWwiCiAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgdW5pb24gKCAiTm8gVlRFIFByb3BoeWxheGlzIERldmljZSBBcHBsaWVkIG9yIE9yZGVyZWQiIE5vVlRFRGV2aWNlCiAgICAgICAgICAgICAgICAgICAgd2hlcmUgTm9WVEVEZXZpY2UucmVxdWVzdFN0YXR1c1JlYXNvbiBpbiAiUGF0aWVudCBSZWZ1c2FsIgogICAgICAgICAgICAgICAgKQoKZGVmaW5lICJFbmNvdW50ZXIgd2l0aCBQcmlvciBvciBQcmVzZW50IERpYWdub3NpcyBvZiBBdHJpYWwgRmlicmlsbGF0aW9uIG9yIFZURSI6CiAgKCAiRW5jb3VudGVyIHdpdGggQWdlIFJhbmdlIGFuZCB3aXRob3V0IFZURSBEaWFnbm9zaXMgb3IgT2JzdGV0cmljYWwgQ29uZGl0aW9ucyIgUXVhbGlmeWluZ0VuY291bnRlcgogICAgICAgICAgd2l0aCBbIkNvbmRpdGlvbiI6ICJBdHJpYWwgRmlicmlsbGF0aW9uL0ZsdXR0ZXIiXSBBdHJpYWxGaWJyaWxsYXRpb24KICAgICAgICAgICAgc3VjaCB0aGF0ICggRkhJUkhlbHBlcnMuVG9Db25jZXB0ICggQXRyaWFsRmlicmlsbGF0aW9uLmNsaW5pY2FsU3RhdHVzICkgfiBHbG9iYWwuImFjdGl2ZSIKICAgICAgICAgICAgICAgIG9yIEZISVJIZWxwZXJzLlRvQ29uY2VwdCAoIEF0cmlhbEZpYnJpbGxhdGlvbi5jbGluaWNhbFN0YXR1cyApIH4gR2xvYmFsLiJyZWN1cnJlbmNlIgogICAgICAgICAgICAgICAgb3IgRkhJUkhlbHBlcnMuVG9Db25jZXB0ICggQXRyaWFsRmlicmlsbGF0aW9uLmNsaW5pY2FsU3RhdHVzICkgfiBHbG9iYWwuInJlbGFwc2UiCiAgICAgICAgICAgICkKICAgICAgICAgICAgICBhbmQgRkhJUkhlbHBlcnMuVG9Db25jZXB0ICggQXRyaWFsRmlicmlsbGF0aW9uLnZlcmlmaWNhdGlvblN0YXR1cyApIH4gR2xvYmFsLiJjb25maXJtZWQiCiAgICAgICAgICAgICAgYW5kIEdsb2JhbC4iTm9ybWFsaXplIEludGVydmFsIiAoIEF0cmlhbEZpYnJpbGxhdGlvbi5vbnNldCApIHN0YXJ0cyBvbiBvciBiZWZvcmUgCiAgICAgICAgICAgICAgZW5kIG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kCiAgICAgICkKICAgICAgICB1bmlvbiAoICJFbmNvdW50ZXIgd2l0aCBBZ2UgUmFuZ2UgYW5kIHdpdGhvdXQgVlRFIERpYWdub3NpcyBvciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICAgICAgICAgIHdoZXJlIEdsb2JhbC5FbmNvdW50ZXJEaWFnbm9zaXMgKCBRdWFsaWZ5aW5nRW5jb3VudGVyICkuY29kZSBpbiAiQXRyaWFsIEZpYnJpbGxhdGlvbi9GbHV0dGVyIgogICAgICAgICkKICAgICAgICB1bmlvbiAoICJFbmNvdW50ZXIgd2l0aCBBZ2UgUmFuZ2UgYW5kIHdpdGhvdXQgVlRFIERpYWdub3NpcyBvciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICAgICAgICAgIHdpdGggWyJDb25kaXRpb24iOiAiVmVub3VzIFRocm9tYm9lbWJvbGlzbSJdIFZURURpYWdub3NpcwogICAgICAgICAgICAgIHN1Y2ggdGhhdCAoIEZISVJIZWxwZXJzLlRvQ29uY2VwdCAoIFZURURpYWdub3Npcy5jbGluaWNhbFN0YXR1cyApIH4gR2xvYmFsLiJpbmFjdGl2ZSIKICAgICAgICAgICAgICAgICAgb3IgRkhJUkhlbHBlcnMuVG9Db25jZXB0ICggVlRFRGlhZ25vc2lzLmNsaW5pY2FsU3RhdHVzICkgfiBHbG9iYWwuInJlbWlzc2lvbiIKICAgICAgICAgICAgICAgICAgb3IgRkhJUkhlbHBlcnMuVG9Db25jZXB0ICggVlRFRGlhZ25vc2lzLmNsaW5pY2FsU3RhdHVzICkgfiBHbG9iYWwuInJlc29sdmVkIgogICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGFuZCBWVEVEaWFnbm9zaXMudmVyaWZpY2F0aW9uU3RhdHVzIH4gR2xvYmFsLiJjb25maXJtZWQiCiAgICAgICAgICAgICAgICBhbmQgR2xvYmFsLiJOb3JtYWxpemUgSW50ZXJ2YWwiICggVlRFRGlhZ25vc2lzLm9uc2V0ICkgYmVmb3JlIHN0YXJ0IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kCiAgICAgICAgKQoKZGVmaW5lICJFbmNvdW50ZXIgTGVzcyBUaGFuIDIgRGF5cyI6CiAgIkVuY291bnRlciB3aXRoIEFnZSBSYW5nZSBhbmQgd2l0aG91dCBWVEUgRGlhZ25vc2lzIG9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgICAgICB3aGVyZSBHbG9iYWwuIkxlbmd0aEluRGF5cyIgKCBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZCApIDwgMgoKZGVmaW5lICJEZW5vbWluYXRvciBFeGNsdXNpb25zIjoKICAiRW5jb3VudGVyIExlc3MgVGhhbiAyIERheXMiCiAgICAgIHVuaW9uICJFbmNvdW50ZXIgd2l0aCBJQ1UgTG9jYXRpb24gU3RheSAxIERheSBvciBNb3JlIgogICAgICB1bmlvbiAiRW5jb3VudGVyIHdpdGggUHJpbmNpcGFsIERpYWdub3NpcyBvZiBNZW50YWwgRGlzb3JkZXIgb3IgU3Ryb2tlIgogICAgICB1bmlvbiAiRW5jb3VudGVyIHdpdGggUHJpbmNpcGFsIFByb2NlZHVyZSBvZiBTQ0lQIFZURSBTZWxlY3RlZCBTdXJnZXJ5IgogICAgICB1bmlvbiAiRW5jb3VudGVyIHdpdGggSW50ZXJ2ZW50aW9uIENvbWZvcnQgTWVhc3VyZXMgRnJvbSBEYXkgb2YgU3RhcnQgb2YgSG9zcGl0YWxpemF0aW9uIFRvIERheSBBZnRlciBBZG1pc3Npb24iCiAgICAgIHVuaW9uICJFbmNvdW50ZXIgd2l0aCBJbnRlcnZlbnRpb24gQ29tZm9ydCBNZWFzdXJlcyBvbiBEYXkgb2Ygb3IgRGF5IEFmdGVyIFByb2NlZHVyZSIKCmRlZmluZSAiRW5jb3VudGVyIHdpdGggSUNVIExvY2F0aW9uIFN0YXkgMSBEYXkgb3IgTW9yZSI6CiAgIkVuY291bnRlciB3aXRoIEFnZSBSYW5nZSBhbmQgd2l0aG91dCBWVEUgRGlhZ25vc2lzIG9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgICAgd2hlcmUgZXhpc3RzICggUXVhbGlmeWluZ0VuY291bnRlci5sb2NhdGlvbiBMb2NhdGlvbgogICAgICAgICAgd2hlcmUgR2xvYmFsLkdldExvY2F0aW9uICggTG9jYXRpb24ubG9jYXRpb24gKS50eXBlIGluICJJbnRlbnNpdmUgQ2FyZSBVbml0IgogICAgICAgICAgICBhbmQgR2xvYmFsLiJMZW5ndGhJbkRheXMiICggTG9jYXRpb24ucGVyaW9kICkgPj0gMQogICAgICAgICAgICBhbmQgTG9jYXRpb24ucGVyaW9kIHN0YXJ0cyBkdXJpbmcgZGF5IG9mIFZURS4iQ2FsZW5kYXJEYXlPZk9yRGF5QWZ0ZXIiICggc3RhcnQgb2YgUXVhbGlmeWluZ0VuY291bnRlci5wZXJpb2QgKQogICAgICApCgpkZWZpbmUgIkVuY291bnRlciB3aXRoIEludGVydmVudGlvbiBDb21mb3J0IE1lYXN1cmVzIG9uIERheSBvZiBvciBEYXkgQWZ0ZXIgUHJvY2VkdXJlIjoKICBmcm9tCiAgICAgICJFbmNvdW50ZXIgd2l0aCBBZ2UgUmFuZ2UgYW5kIHdpdGhvdXQgVlRFIERpYWdub3NpcyBvciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyLAogICAgICBbIlByb2NlZHVyZSI6ICJHZW5lcmFsIG9yIE5ldXJheGlhbCBBbmVzdGhlc2lhIl0gQW5lc3RoZXNpYVByb2NlZHVyZSwKICAgICAgIkludGVydmVudGlvbiBDb21mb3J0IE1lYXN1cmVzIiBDb21mb3J0TWVhc3VyZQogICAgICB3aGVyZSBBbmVzdGhlc2lhUHJvY2VkdXJlLnN0YXR1cyA9ICdjb21wbGV0ZWQnCiAgICAgICAgYW5kIEdsb2JhbC4iTm9ybWFsaXplIEludGVydmFsIiAoIEFuZXN0aGVzaWFQcm9jZWR1cmUucGVyZm9ybWVkICkgZW5kcyAxIGRheSBhZnRlciBkYXkgb2Ygc3RhcnQgb2YgUXVhbGlmeWluZ0VuY291bnRlci5wZXJpb2QKICAgICAgICBhbmQgQ29hbGVzY2Uoc3RhcnQgb2YgR2xvYmFsLiJOb3JtYWxpemUgSW50ZXJ2YWwiKENvbWZvcnRNZWFzdXJlLnBlcmZvcm1lZCksIENvbWZvcnRNZWFzdXJlLmF1dGhvcmVkT24pZHVyaW5nIGRheSBvZiBWVEUuIkNhbGVuZGFyRGF5T2ZPckRheUFmdGVyIiAoIAogICAgICAgIGVuZCBvZiBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIgKCBBbmVzdGhlc2lhUHJvY2VkdXJlLnBlcmZvcm1lZCApICkKICAgICAgcmV0dXJuIFF1YWxpZnlpbmdFbmNvdW50ZXIKCmRlZmluZSAiRW5jb3VudGVyIHdpdGggSW50ZXJ2ZW50aW9uIENvbWZvcnQgTWVhc3VyZXMgRnJvbSBEYXkgb2YgU3RhcnQgb2YgSG9zcGl0YWxpemF0aW9uIFRvIERheSBBZnRlciBBZG1pc3Npb24iOgogICJFbmNvdW50ZXIgd2l0aCBBZ2UgUmFuZ2UgYW5kIHdpdGhvdXQgVlRFIERpYWdub3NpcyBvciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICAgIHdpdGggIkludGVydmVudGlvbiBDb21mb3J0IE1lYXN1cmVzIiBDb21mb3J0TWVhc3VyZQogICAgICAgIHN1Y2ggdGhhdCBDb2FsZXNjZShzdGFydCBvZiBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIoQ29tZm9ydE1lYXN1cmUucGVyZm9ybWVkKSwgQ29tZm9ydE1lYXN1cmUuYXV0aG9yZWRPbilkdXJpbmcgZGF5IG9mIFZURS4iRnJvbURheU9mU3RhcnRPZkhvc3BpdGFsaXphdGlvblRvRGF5QWZ0ZXJBZG1pc3Npb24iICggUXVhbGlmeWluZ0VuY291bnRlciApCgpkZWZpbmUgIkVuY291bnRlciB3aXRoIE1lZGljYXRpb24gT3JhbCBGYWN0b3IgWGEgSW5oaWJpdG9yIEFkbWluaXN0ZXJlZCBvbiBEYXkgb2Ygb3IgRGF5IEFmdGVyIEFkbWlzc2lvbiBvciBQcm9jZWR1cmUiOgogICggZnJvbQogICAgICAgICJFbmNvdW50ZXIgd2l0aCBBZ2UgUmFuZ2UgYW5kIHdpdGhvdXQgVlRFIERpYWdub3NpcyBvciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyLAogICAgICAgIFsiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uIjogIk9yYWwgRmFjdG9yIFhhIEluaGliaXRvciBmb3IgVlRFIFByb3BoeWxheGlzIG9yIFZURSBUcmVhdG1lbnQiXSBGYWN0b3JYYU1lZGljYXRpb24KICAgICAgICB3aGVyZSBGYWN0b3JYYU1lZGljYXRpb24uc3RhdHVzID0gJ2NvbXBsZXRlZCcKICAgICAgICAgIGFuZCBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIgKCBGYWN0b3JYYU1lZGljYXRpb24uZWZmZWN0aXZlICkgc3RhcnRzIGR1cmluZyBkYXkgb2YgVlRFLiJDYWxlbmRhckRheU9mT3JEYXlBZnRlciIgKCBzdGFydCBvZiBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZCApCiAgICAgICAgcmV0dXJuIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgICkKICAgICAgdW5pb24gKCBmcm9tCiAgICAgICAgICAiRW5jb3VudGVyIHdpdGggQWdlIFJhbmdlIGFuZCB3aXRob3V0IFZURSBEaWFnbm9zaXMgb3IgT2JzdGV0cmljYWwgQ29uZGl0aW9ucyIgUXVhbGlmeWluZ0VuY291bnRlciwKICAgICAgICAgIFsiUHJvY2VkdXJlIjogIkdlbmVyYWwgb3IgTmV1cmF4aWFsIEFuZXN0aGVzaWEiXSBBbmVzdGhlc2lhUHJvY2VkdXJlLAogICAgICAgICAgWyJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24iOiAiT3JhbCBGYWN0b3IgWGEgSW5oaWJpdG9yIGZvciBWVEUgUHJvcGh5bGF4aXMgb3IgVlRFIFRyZWF0bWVudCJdIEZhY3RvclhhTWVkaWNhdGlvbgogICAgICAgICAgd2hlcmUgRmFjdG9yWGFNZWRpY2F0aW9uLnN0YXR1cyA9ICdjb21wbGV0ZWQnCiAgICAgICAgICAgIGFuZCBBbmVzdGhlc2lhUHJvY2VkdXJlLnN0YXR1cyA9ICdjb21wbGV0ZWQnCiAgICAgICAgICAgIGFuZCBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIgKCBBbmVzdGhlc2lhUHJvY2VkdXJlLnBlcmZvcm1lZCApIGVuZHMgMSBkYXkgYWZ0ZXIgZGF5IG9mIHN0YXJ0IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kCiAgICAgICAgICAgIGFuZCBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIgKCBGYWN0b3JYYU1lZGljYXRpb24uZWZmZWN0aXZlICkgc3RhcnRzIGR1cmluZyBkYXkgb2YgVlRFLiJDYWxlbmRhckRheU9mT3JEYXlBZnRlciIgKCAKICAgICAgICAgICAgZW5kIG9mIEdsb2JhbC4iTm9ybWFsaXplIEludGVydmFsIiAoIEFuZXN0aGVzaWFQcm9jZWR1cmUucGVyZm9ybWVkICkgKQogICAgICAgICAgcmV0dXJuIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgICAgKQoKZGVmaW5lICJFbmNvdW50ZXIgd2l0aCBWVEUgUHJvcGh5bGF4aXMgUmVjZWl2ZWQgRnJvbSBEYXkgb2YgU3RhcnQgb2YgSG9zcGl0YWxpemF0aW9uIFRvIERheSBBZnRlciBBZG1pc3Npb24gb3IgUHJvY2VkdXJlIjoKICAoIGZyb20KICAgICAgICAiRW5jb3VudGVyIHdpdGggQWdlIFJhbmdlIGFuZCB3aXRob3V0IFZURSBEaWFnbm9zaXMgb3IgT2JzdGV0cmljYWwgQ29uZGl0aW9ucyIgUXVhbGlmeWluZ0VuY291bnRlciwKICAgICAgICAiVlRFIFByb3BoeWxheGlzIGJ5IE1lZGljYXRpb24gQWRtaW5pc3RlcmVkIG9yIERldmljZSBBcHBsaWVkIiBWVEVQcm9waHlsYXhpcwogICAgICAgIHdoZXJlIENvYWxlc2NlKEdsb2JhbC4iTm9ybWFsaXplIEludGVydmFsIihWVEVQcm9waHlsYXhpcy5lZmZlY3RpdmUpLCBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIoVlRFUHJvcGh5bGF4aXMucGVyZm9ybWVkKSlzdGFydHMgZHVyaW5nIGRheSBvZiBWVEUuIkZyb21EYXlPZlN0YXJ0T2ZIb3NwaXRhbGl6YXRpb25Ub0RheUFmdGVyQWRtaXNzaW9uIiAoIFF1YWxpZnlpbmdFbmNvdW50ZXIgKQogICAgICAgIHJldHVybiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICApCiAgICAgIHVuaW9uICggZnJvbQogICAgICAgICAgIkVuY291bnRlciB3aXRoIEFnZSBSYW5nZSBhbmQgd2l0aG91dCBWVEUgRGlhZ25vc2lzIG9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIsCiAgICAgICAgICBbIlByb2NlZHVyZSI6ICJHZW5lcmFsIG9yIE5ldXJheGlhbCBBbmVzdGhlc2lhIl0gQW5lc3RoZXNpYVByb2NlZHVyZSwKICAgICAgICAgICJWVEUgUHJvcGh5bGF4aXMgYnkgTWVkaWNhdGlvbiBBZG1pbmlzdGVyZWQgb3IgRGV2aWNlIEFwcGxpZWQiIFZURVByb3BoeWxheGlzCiAgICAgICAgICB3aGVyZSBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIgKCBBbmVzdGhlc2lhUHJvY2VkdXJlLnBlcmZvcm1lZCApIGVuZHMgMSBkYXkgYWZ0ZXIgZGF5IG9mIHN0YXJ0IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kCiAgICAgICAgICAgIGFuZCBDb2FsZXNjZShHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIoVlRFUHJvcGh5bGF4aXMuZWZmZWN0aXZlKSwgR2xvYmFsLiJOb3JtYWxpemUgSW50ZXJ2YWwiKFZURVByb3BoeWxheGlzLnBlcmZvcm1lZCkpIHN0YXJ0cyBkdXJpbmcgZGF5IG9mIFZURS4iQ2FsZW5kYXJEYXlPZk9yRGF5QWZ0ZXIiICggCiAgICAgICAgICAgIGVuZCBvZiBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIgKCBBbmVzdGhlc2lhUHJvY2VkdXJlLnBlcmZvcm1lZCApICkKICAgICAgICAgIHJldHVybiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICAgICkKCmRlZmluZSAiTm8gVlRFIFByb3BoeWxheGlzIERldmljZSBEdWUgdG8gTWVkaWNhbCBSZWFzb24gb24gRGF5IG9mIG9yIERheSBBZnRlciBQcm9jZWR1cmUiOgogIGZyb20KICAgICAgIkVuY291bnRlciB3aXRoIEFnZSBSYW5nZSBhbmQgd2l0aG91dCBWVEUgRGlhZ25vc2lzIG9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIsCiAgICAgIFsiUHJvY2VkdXJlIjogIkdlbmVyYWwgb3IgTmV1cmF4aWFsIEFuZXN0aGVzaWEiXSBBbmVzdGhlc2lhUHJvY2VkdXJlLAogICAgICAiTm8gVlRFIFByb3BoeWxheGlzIERldmljZSBBcHBsaWVkIG9yIE9yZGVyZWQiIE5vVlRFRGV2aWNlCiAgICAgIHdoZXJlIE5vVlRFRGV2aWNlLnJlcXVlc3RTdGF0dXNSZWFzb24gaW4gIk1lZGljYWwgUmVhc29uIgogICAgICAgIGFuZCBBbmVzdGhlc2lhUHJvY2VkdXJlLnN0YXR1cyA9ICdjb21wbGV0ZWQnCiAgICAgICAgYW5kIEdsb2JhbC4iTm9ybWFsaXplIEludGVydmFsIiAoIEFuZXN0aGVzaWFQcm9jZWR1cmUucGVyZm9ybWVkICkgZW5kcyAxIGRheSBhZnRlciBkYXkgb2Ygc3RhcnQgb2YgUXVhbGlmeWluZ0VuY291bnRlci5wZXJpb2QKICAgICAgICBhbmQgTm9WVEVEZXZpY2UuYXV0aG9yZWRPbiBkdXJpbmcgZGF5IG9mIFZURS4iQ2FsZW5kYXJEYXlPZk9yRGF5QWZ0ZXIiICggCiAgICAgICAgZW5kIG9mIEdsb2JhbC4iTm9ybWFsaXplIEludGVydmFsIiAoIEFuZXN0aGVzaWFQcm9jZWR1cmUucGVyZm9ybWVkICkgKQogICAgICByZXR1cm4gUXVhbGlmeWluZ0VuY291bnRlcgoKZGVmaW5lICJObyBWVEUgUHJvcGh5bGF4aXMgRHVlIHRvIFBhdGllbnQgUmVmdXNhbCBvbiBEYXkgb2Ygb3IgRGF5IEFmdGVyIFByb2NlZHVyZSI6CiAgZnJvbQogICAgICAiRW5jb3VudGVyIHdpdGggQWdlIFJhbmdlIGFuZCB3aXRob3V0IFZURSBEaWFnbm9zaXMgb3IgT2JzdGV0cmljYWwgQ29uZGl0aW9ucyIgUXVhbGlmeWluZ0VuY291bnRlciwKICAgICAgWyJQcm9jZWR1cmUiOiAiR2VuZXJhbCBvciBOZXVyYXhpYWwgQW5lc3RoZXNpYSJdIEFuZXN0aGVzaWFQcm9jZWR1cmUsCiAgICAgICJObyBWVEUgUHJvcGh5bGF4aXMgTWVkaWNhdGlvbiBvciBEZXZpY2UgRHVlIHRvIFBhdGllbnQgUmVmdXNhbCIgUGF0aWVudFJlZnVzYWwKICAgICAgd2hlcmUgR2xvYmFsLiJOb3JtYWxpemUgSW50ZXJ2YWwiICggQW5lc3RoZXNpYVByb2NlZHVyZS5wZXJmb3JtZWQgKSBlbmRzIDEgZGF5IGFmdGVyIGRheSBvZiBzdGFydCBvZiBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZAogICAgICAgIGFuZCBQYXRpZW50UmVmdXNhbC5hdXRob3JlZE9uIGR1cmluZyBkYXkgb2YgVlRFLiJDYWxlbmRhckRheU9mT3JEYXlBZnRlciIgKCAKICAgICAgICBlbmQgb2YgR2xvYmFsLiJOb3JtYWxpemUgSW50ZXJ2YWwiICggQW5lc3RoZXNpYVByb2NlZHVyZS5wZXJmb3JtZWQgKSApCiAgICAgIHJldHVybiBRdWFsaWZ5aW5nRW5jb3VudGVyCgpkZWZpbmUgIk5vIFZURSBQcm9waHlsYXhpcyBNZWRpY2F0aW9uIER1ZSB0byBNZWRpY2FsIFJlYXNvbiBvbiBEYXkgb2Ygb3IgRGF5IEFmdGVyIFByb2NlZHVyZSI6CiAgZnJvbQogICAgICAiRW5jb3VudGVyIHdpdGggQWdlIFJhbmdlIGFuZCB3aXRob3V0IFZURSBEaWFnbm9zaXMgb3IgT2JzdGV0cmljYWwgQ29uZGl0aW9ucyIgUXVhbGlmeWluZ0VuY291bnRlciwKICAgICAgWyJQcm9jZWR1cmUiOiAiR2VuZXJhbCBvciBOZXVyYXhpYWwgQW5lc3RoZXNpYSJdIEFuZXN0aGVzaWFQcm9jZWR1cmUsCiAgICAgICJObyBWVEUgUHJvcGh5bGF4aXMgTWVkaWNhdGlvbiBBZG1pbmlzdGVyZWQgb3IgT3JkZXJlZCIgTm9WVEVNZWRpY2F0aW9uCiAgICAgIHdoZXJlIE5vVlRFTWVkaWNhdGlvbi5NZWRpY2F0aW9uU3RhdHVzUmVhc29uIGluICJNZWRpY2FsIFJlYXNvbiIKICAgICAgICBhbmQgQW5lc3RoZXNpYVByb2NlZHVyZS5zdGF0dXMgPSAnY29tcGxldGVkJwogICAgICAgIGFuZCBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIgKCBBbmVzdGhlc2lhUHJvY2VkdXJlLnBlcmZvcm1lZCApIGVuZHMgMSBkYXkgYWZ0ZXIgZGF5IG9mIHN0YXJ0IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kCiAgICAgICAgYW5kIE5vVlRFTWVkaWNhdGlvbi5hdXRob3JlZE9uIGR1cmluZyBkYXkgb2YgVlRFLiJDYWxlbmRhckRheU9mT3JEYXlBZnRlciIgKCAKICAgICAgICBlbmQgb2YgR2xvYmFsLiJOb3JtYWxpemUgSW50ZXJ2YWwiICggQW5lc3RoZXNpYVByb2NlZHVyZS5wZXJmb3JtZWQgKSApCiAgICAgIHJldHVybiBRdWFsaWZ5aW5nRW5jb3VudGVyCgpkZWZpbmUgIkluIExvdyBSaXNrIGZvciBWVEUgb3IgT24gQW50aWNvYWd1bGFudCI6CiAgKCBbIk9ic2VydmF0aW9uIjogIlJpc2sgZm9yIHZlbm91cyB0aHJvbWJvZW1ib2xpc20iXSBWVEVSaXNrQXNzZXNzbWVudAogICAgICB3aGVyZSBGSElSSGVscGVycy5Ub0NvbmNlcHQgKCBWVEVSaXNrQXNzZXNzbWVudC52YWx1ZSApIGluICJMb3cgUmlzayIKICAgICAgICBhbmQgVlRFUmlza0Fzc2Vzc21lbnQuc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9CiAgKQogICAgdW5pb24gKCBbIk9ic2VydmF0aW9uIjogIklOUiJdIElOUkxhYlRlc3QKICAgICAgICB3aGVyZSBJTlJMYWJUZXN0LnZhbHVlIGFzIFF1YW50aXR5ID4gMy4wCiAgICAgICAgICBhbmQgSU5STGFiVGVzdC5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0KICAgICAgICByZXR1cm4gIk9ic2VydmF0aW9uIiB7IGlkOiBJTlJMYWJUZXN0LmlkLCBlZmZlY3RpdmU6IElOUkxhYlRlc3QuaXNzdWVkIH0KICAgICkKICAgIHVuaW9uICggKCAoIFsiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uIjogIlVuZnJhY3Rpb25hdGVkIEhlcGFyaW4iXSBVbmZyYWN0aW9uYXRlZEhlcGFyaW4KICAgICAgICAgIHdoZXJlIFVuZnJhY3Rpb25hdGVkSGVwYXJpbi5kb3NhZ2Uucm91dGUgaW4gIkludHJhdmVub3VzIHJvdXRlIgogICAgICApCiAgICAgICAgdW5pb24gWyJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24iOiAiRGlyZWN0IFRocm9tYmluIEluaGliaXRvciJdCiAgICAgICAgdW5pb24gWyJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24iOiAiR2x5Y29wcm90ZWluIElJYi9JSUlhIEluaGliaXRvcnMiXSApIEFudGljb2FndWxhbnRNZWRpY2F0aW9uCiAgICAgICAgd2hlcmUgQW50aWNvYWd1bGFudE1lZGljYXRpb24uc3RhdHVzID0gJ2NvbXBsZXRlZCcKICAgICAgICByZXR1cm4gIk9ic2VydmF0aW9uIiB7IGlkOiBBbnRpY29hZ3VsYW50TWVkaWNhdGlvbi5pZCwgZWZmZWN0aXZlOiBBbnRpY29hZ3VsYW50TWVkaWNhdGlvbi5lZmZlY3RpdmUgfQogICAgKQoKZGVmaW5lICJMb3cgUmlzayBmb3IgVlRFIG9yIEFudGljb2FndWxhbnQgQWRtaW5pc3RlcmVkIEZyb20gRGF5IG9mIFN0YXJ0IG9mIEhvc3BpdGFsaXphdGlvbiBUbyBEYXkgQWZ0ZXIgQWRtaXNzaW9uIjoKICAiRW5jb3VudGVyIHdpdGggQWdlIFJhbmdlIGFuZCB3aXRob3V0IFZURSBEaWFnbm9zaXMgb3IgT2JzdGV0cmljYWwgQ29uZGl0aW9ucyIgUXVhbGlmeWluZ0VuY291bnRlcgogICAgd2l0aCAiSW4gTG93IFJpc2sgZm9yIFZURSBvciBPbiBBbnRpY29hZ3VsYW50IiBWVEVSaXNrQXNzZXNzbWVudAogICAgICBzdWNoIHRoYXQgR2xvYmFsLiJOb3JtYWxpemUgSW50ZXJ2YWwiICggVlRFUmlza0Fzc2Vzc21lbnQuZWZmZWN0aXZlICkgc3RhcnRzIGR1cmluZyBkYXkgb2YgVlRFLiJGcm9tRGF5T2ZTdGFydE9mSG9zcGl0YWxpemF0aW9uVG9EYXlBZnRlckFkbWlzc2lvbiIgKCBRdWFsaWZ5aW5nRW5jb3VudGVyICkKCmRlZmluZSAiTG93IFJpc2sgZm9yIFZURSBvciBBbnRpY29hZ3VsYW50IEFkbWluaXN0ZXJlZCBvbiBEYXkgb2Ygb3IgRGF5IEFmdGVyIFByb2NlZHVyZSI6CiAgZnJvbQogICAgIkVuY291bnRlciB3aXRoIEFnZSBSYW5nZSBhbmQgd2l0aG91dCBWVEUgRGlhZ25vc2lzIG9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIsCiAgICBbIlByb2NlZHVyZSI6ICJHZW5lcmFsIG9yIE5ldXJheGlhbCBBbmVzdGhlc2lhIl0gQW5lc3RoZXNpYVByb2NlZHVyZSwKICAgICJJbiBMb3cgUmlzayBmb3IgVlRFIG9yIE9uIEFudGljb2FndWxhbnQiIFZURVJpc2tBc3Nlc3NtZW50CiAgICB3aGVyZSBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIgKCBBbmVzdGhlc2lhUHJvY2VkdXJlLnBlcmZvcm1lZCApIGVuZHMgMSBkYXkgYWZ0ZXIgZGF5IG9mIHN0YXJ0IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kCiAgICAgIGFuZCBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIgKCBWVEVSaXNrQXNzZXNzbWVudC5lZmZlY3RpdmUgKSBzdGFydHMgZHVyaW5nIGRheSBvZiBWVEUuIkNhbGVuZGFyRGF5T2ZPckRheUFmdGVyIiAoIAogICAgICBlbmQgb2YgR2xvYmFsLiJOb3JtYWxpemUgSW50ZXJ2YWwiICggQW5lc3RoZXNpYVByb2NlZHVyZS5wZXJmb3JtZWQgKSApCiAgICByZXR1cm4gUXVhbGlmeWluZ0VuY291bnRlcgoKZGVmaW5lIGZ1bmN0aW9uICJHZXRTdGF0dXNSZWFzb24iKHJlcXVlc3RSZWFzb24gU2VydmljZVJlcXVlc3QgKToKICBDb21tb24uQmFzZUV4dGVuc2lvbihyZXF1ZXN0UmVhc29uLCAncmVxdWVzdC1zdGF0dXNSZWFzb24nKQoK"
  } ]
}