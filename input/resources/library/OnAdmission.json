{
  "resourceType": "Library",
  "id": "OnAdmission",
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "http://ecqi.healthit.gov/ecqms/Library/OnAdmission",
  "name": "OnAdmission",
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBPbkFkbWlzc2lvbgoKdXNpbmcgRkhJUiB2ZXJzaW9uICc0LjAuMScKCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC4xLjAwMCcKCmluY2x1ZGUgTUFUR2xvYmFsQ29tbW9uRnVuY3Rpb25zRkhJUjQgdmVyc2lvbiAnNy4wLjAwMCcgY2FsbGVkIEdsb2JhbAppbmNsdWRlIEN1bXVsYXRpdmVNZWRpY2F0aW9uRHVyYXRpb25GSElSNCB2ZXJzaW9uICcyLjAuMDAwJyBjYWxsZWQgQ01ECgp2YWx1ZXNldCAiRGlhYmV0ZXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAzLjEyLjEwMDEnCnZhbHVlc2V0ICJQcmVzZW50IG9uIEFkbWlzc2lvbiBvciBDbGluaWNhbGx5IFVuZGV0ZXJtaW5lZCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExNDcuMTk3Jwp2YWx1ZXNldCAiSW1tdW5lIE1vZHVsYXRvcnMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4LjEyNCcKCnBhcmFtZXRlciAiTWVhc3VyZW1lbnQgUGVyaW9kIiBJbnRlcnZhbDxEYXRlVGltZT4KICBkZWZhdWx0IEludGVydmFsW0AyMDE5LTAxLTAxVDAwOjAwOjAwLjAsIEAyMDIwLTAxLTAxVDAwOjAwOjAwLjApCgpjb250ZXh0IFBhdGllbnQKCi8qCmh0dHBzOi8vb25jcHJvamVjdHJhY2tpbmcuaGVhbHRoaXQuZ292L3N1cHBvcnQvcHJvamVjdHMvQ1FMSVQvaXNzdWVzL0NRTElULTMxNQoKSG93IGRvIHdlIG1ha2UgdXNlIG9mIHRoZSBEaWFnbm9zaXNQcmVzZW50T25BZG1pc3Npb24gZXh0ZW5zaW9uIHRvIGRldGVybWluZSB3aGV0aGVyCmEgZGlhZ25vc2lzIHdhcyBwcmVzZW50IG9uIGFkbWlzc2lvbj8KCmh0dHA6Ly9obDcub3JnL2ZoaXIvdXMvcWljb3JlL1N0cnVjdHVyZURlZmluaXRpb24vcWljb3JlLWVuY291bnRlci1kaWFnbm9zaXNQcmVzZW50T25BZG1pc3Npb24KKi8KCi8vZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBEaWFiZXRlcyBEaWFnbm9zaXMgUHJlc2VudCBvbiBBZG1pc3Npb24iOgovLyAgR2xvYmFsLiJJbnBhdGllbnQgRW5jb3VudGVyIiBJUEVuY291bnRlcgovLyAgICB3aGVyZSBleGlzdHMgKElQRW5jb3VudGVyLmRpYWdub3NpcyBEaWFnbm9zaXMKLy8gICAgICB3aGVyZSAoc2luZ2xldG9uIGZyb20gKFtDb25kaXRpb25dIEMgd2hlcmUgQy5pZCA9IEdsb2JhbC5HZXRJZChEaWFnbm9zaXMuY29uZGl0aW9uLnJlZmVyZW5jZSkpKS5jb2RlIGluICJEaWFiZXRlcyIKLy8gICAgICAgIGFuZCBHbG9iYWwuR2V0RXh0ZW5zaW9uKERpYWdub3NpcywgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvdXMvcWljb3JlL1N0cnVjdHVyZURlZmluaXRpb24vcWljb3JlLWVuY291bnRlci1kaWFnbm9zaXNQcmVzZW50T25BZG1pc3Npb24nKS52YWx1ZSBpbiBHbG9iYWwuIlByZXNlbnQgb24gQWRtaXNzaW9uIG9yIENsaW5pY2FsbHkgVW5kZXRlcm1pbmVkIgovLyAgICApCgovKgpQb3RlbnRpYWwgaW1wcm92ZW1lbnQ/CiovCgovL2RlZmluZSAiRW5jb3VudGVyRGlhZ25vc2lzIjoKLy8gIEdsb2JhbC4iSW5wYXRpZW50IEVuY291bnRlciIgSVBFbmNvdW50ZXIKLy8gICAgcmV0dXJuIElQRW5jb3VudGVyLmRpYWdub3NpcwoKLy9kZWZpbmUgIkVuY291bnRlciBXaXRoIERpYWJldGVzIERpYWdub3NpcyBQcmVzZW50IG9uIEFkbWlzc2lvbiAoMikiOgovLyAgR2xvYmFsLiJJbnBhdGllbnQgRW5jb3VudGVyIiBJUEVuY291bnRlcgovLyAgICB3aGVyZSBleGlzdHMgKChHbG9iYWwuUHJlc2VudE9uQWRtaXNzaW9uRGlhZ25vc2lzKElQRW5jb3VudGVyKSkgUE9BRGlhZ25vc2lzCi8vICAgICAgd2hlcmUgUE9BRGlhZ25vc2lzLmNvZGUgaW4gIkRpYWJldGVzIgovLyAgICApCgpkZWZpbmUgIkVuY291bnRlciBXaXRoIERpYWJldGVzIERpYWdub3NpcyBQcmVzZW50IG9uIEFkbWlzc2lvbiAoMykiOgogIEdsb2JhbC4iSW5wYXRpZW50IEVuY291bnRlciIgSVBFbmNvdW50ZXIKICAgIHdoZXJlIGV4aXN0cyAoSVBFbmNvdW50ZXIuZGlhZ25vc2lzIEQKICAgICAgd2hlcmUgR2xvYmFsLkdldENvbmRpdGlvbihELmNvbmRpdGlvbikuY29kZSBpbiAiRGlhYmV0ZXMiCiAgICAgICAgYW5kIEdsb2JhbC5QcmVzZW50T25BZG1pc3Npb25JbmRpY2F0b3IoRCkgaW4gIlByZXNlbnQgb24gQWRtaXNzaW9uIG9yIENsaW5pY2FsbHkgVW5kZXRlcm1pbmVkIgogICAgKQoKLy9kZWZpbmUgIkVuY291bnRlciBXaXRoIERpYWJldGVzIERpYWdub3NpcyBQcmVzZW50IG9uIEFkbWlzc2lvbiAoNCkiOgovLyAgR2xvYmFsLiJJbnBhdGllbnQgRW5jb3VudGVyIiBJUEVuY291bnRlcgovLyAgICB3aGVyZSBleGlzdHMgKElQRW5jb3VudGVyLmRpYWdub3NpcyBECi8vICAgICAgd2hlcmUgR2xvYmFsLkdldENvbmRpdGlvbihELmNvbmRpdGlvbikuY29kZSBpbiAiRGlhYmV0ZXMiCi8vICAgICAgICBhbmQgZGlhZ25vc2lzLnByZXNlbnRPbkFkbWlzc2lvbiBpbiAiUHJlc2VudCBvbiBBZG1pc3Npb24gb3IgQ2xpbmljYWxseSBVbmRldGVybWluZWQiCi8vICAgICkKCgovKgpodHRwczovL29uY3Byb2plY3RyYWNraW5nLmhlYWx0aGl0Lmdvdi9zdXBwb3J0L3Byb2plY3RzL0NRTElUL2lzc3Vlcy9DUUxJVC0zMTYKTWVkaWNhdGlvbiBBY3RpdmUgb24gQWRtaXNzaW9uCiovCgovKgpkZWZpbmUgIkVuY291bnRlciBXaXRoIEltbXVuZSBNb2RpZmllciBBY3RpdmUgb24gQWRtaXNzaW9uIjoKICBHbG9iYWwuIklucGF0aWVudCBFbmNvdW50ZXIiIElQRW5jb3VudGVyCiAgICB3aXRoIFsiTWVkaWNhdGlvblJlcXVlc3QiOiAiSW1tdW5lIE1vZHVsYXRvcnMiXSBJbW11bm9NZWRzCiAgICAgIHN1Y2ggdGhhdCBJbW11bm9NZWRzLmF1dGhvcmVkT24gc2FtZSBkYXkgYXMgc3RhcnQgb2YgR2xvYmFsLiJIb3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb24iICggSVBFbmNvdW50ZXIgKQogICAgICAgIGFuZCBleGlzdHMgKEltbXVub01lZHMuY2F0ZWdvcnkgQyB3aGVyZSBDIH4gR2xvYmFsLiJDb21tdW5pdHkiKQogICAgICAgIGFuZCBJbW11bm9NZWRzLnN0YXR1cyA9ICdhY3RpdmUnCiAgICAgICAgYW5kIEltbXVub01lZHMuaW50ZW50ID0gJ29yZGVyJwoqLwoKLyoKVGhlIGlzc3VlIEkgc2VlIGlzIHRoYXQgdGhlIHVzZSBvZiBhdXRob3JlZE9uIGltcGxpZXMgdGhpcyB3aWxsIG9ubHkgd29yayBmb3IgcHJlc2NyaXB0aW9ucyB0aGF0IGFyZSByZWNvcmRlZCBvbiBhZG1pc3Npb24KSXQncyBub3QgY2xlYXIgdGhhdCBNZWRpY2F0aW9uUmVxdWVzdCB3b3VsZCBiZSB1c2VkIGZvciB0aGF0IHB1cnBvc2UsIHRoYXQgc2VlbXMgbGlrZSBtb3JlIG9mIGEgTWVkaWNhdGlvblN0YXRlbWVudCB1c2UgY2FzZQpGdXJ0aGVyLCBpZiBNZWRpY2F0aW9uUmVxdWVzdCByZWNvcmRzIGFyZSBhdmFpbGFibGUgZnJvbSB0aGUgcGF0aWVudCByZWNvcmQsIHdlIHdvdWxkIG5lZWQgdG8gdXNlIHNvbWV0aGluZyBsaWtlIHRoZQpDdW11bGF0aXZlTWVkaWNhdGlvbkR1cmF0aW9uIGxvZ2ljIHRvIGxvb2sgYXQgYWxsIE1lZGljYXRpb25SZXF1ZXN0LCBhbmQgcG90ZW50aWFsbHkgZGlzcGVuc2UgcmVjb3JkcyB0byBkdGVybWluZSB3aGV0aGVyCnRoaXMgaXMgYSBtZWRpY2F0aW9uIHRoYXQgaXMgImFjdGl2ZSI6CiovCgpkZWZpbmUgIkVuY291bnRlciBXaXRoIEltbXVuZSBNb2RpZmllciBBY3RpdmUgb24gQWRtaXNzaW9uICgyKSI6CiAgR2xvYmFsLiJJbnBhdGllbnQgRW5jb3VudGVyIiBJUEVuY291bnRlcgogICAgd2l0aCBbIk1lZGljYXRpb25SZXF1ZXN0IjogIkltbXVuZSBNb2R1bGF0b3JzIl0gSW1tdW5vTWVkcwogICAgICBzdWNoIHRoYXQgSW1tdW5vTWVkcy5zdGF0dXMgPSAnYWN0aXZlJwogICAgICAgIGFuZCAoSW1tdW5vTWVkcy5pbnRlbnQgPSAnb3JkZXInIG9yIChJbW11bm9NZWRzLmludGVudCA9ICdwbGFuJyBhbmQgKEltbXVub01lZHMucmVwb3J0ZWQgaXMgdHJ1ZSBvciBJbW11bm9NZWRzLnJlcG9ydGVkIGlzIG5vdCBudWxsKSkpCiAgICAgICAgYW5kIGV4aXN0cyAoSW1tdW5vTWVkcy5jYXRlZ29yeSBDIHdoZXJlIEMgfiBHbG9iYWwuIkNvbW11bml0eSIpCiAgICAgICAgYW5kIENNRC5NZWRpY2F0aW9uUmVxdWVzdFBlcmlvZChJbW11bm9NZWRzKSBvdmVybGFwcyBiZWZvcmUgSVBFbmNvdW50ZXIucGVyaW9kCgoKZGVmaW5lICJSaXNrIFZhcmlhYmxlIEVuY291bnRlciBXaXRoIFN0cm9rZSBQcmVzZW50IG9uIEFkbWlzc2lvbiI6CiAgIlF1YWxpZnlpbmcgRW5jb3VudGVyIiBJbnBhdGllbnQgRW5jb3VudGVyCiAgICB3aGVyZSBleGlzdHMgKCBJbnBhdGllbnRFbmNvdW50ZXIuZGlhZ25vc2lzIER4CiAgICAgICAgd2hlcmUgR2xvYmFsLiJHZXRDb25kaXRpb24iICggRHguY29uZGl0aW9uICkuY29kZSBpbiAiU3Ryb2tlIgogICAgICAgICAgYW5kIFFJQ29yZUNvbW1vbi4iUHJlc2VudE9uQWRtaXNzaW9uIiAoIER4ICkgaW4gIlByZXNlbnQgb24gQWRtaXNzaW9uIG9yIENsaW5pY2FsbHkgVW5kZXRlcm1pbmVkIgogICAgKQoKZGVmaW5lICJSaXNrIFZhcmlhYmxlIEFsbCBFbmNvdW50ZXIgRGlhZ25vc2VzIFdpdGggUE9BIEluZGljYXRpb24iOgogIGZsYXR0ZW4gKAogICAgIlF1YWxpZnlpbmcgRW5jb3VudGVyIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICAgIHdoZXJlIGV4aXN0cyBRdWFsaWZ5aW5nRW5jb3VudGVyLmRpYWdub3NpcyBBbGxEaWFnbm9zaXMKICAgICAgICByZXR1cm4gKAogICAgICAgICAgUXVhbGlmeWluZ0VuY291bnRlci5kaWFnbm9zaXMgRHgKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBlbmNvdW50ZXJJZDogUXVhbGlmeWluZ0VuY291bnRlci5pZCwKICAgICAgICAgICAgICBwZXJpb2Q6IFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kLAogICAgICAgICAgICAgIGRpYWdub3Npc0NvZGU6IEdsb2JhbC5HZXRDb25kaXRpb24oRHguY29uZGl0aW9uKS5jb2RlLAogICAgICAgICAgICAgIHVzZTogRHgudXNlLAogICAgICAgICAgICAgIHJhbms6IER4LnJhbmssCiAgICAgICAgICAgICAgUE9BOiBRSUNvcmVDb21tb24uUHJlc2VudE9uQWRtaXNzaW9uKER4KQogICAgICAgICAgICB9CiAgICAgICAgKQogICkKCmRlZmluZSAiVGVzdDQiOgogICAgIlF1YWxpZnlpbmcgRW5jb3VudGVyIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICAgIHdoZXJlIGV4aXN0cyBRdWFsaWZ5aW5nRW5jb3VudGVyLmRpYWdub3NpcyBBbGxEaWFnbm9zaXMKICAgICAgICByZXR1cm4gewogICAgICAgICAgZW5jb3VudGVySWQ6IFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQsCiAgICAgICAgICBwZXJpb2Q6IFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kLAogICAgICAgICAgZGlhZ25vc2lzOgogICAgICAgICAgICBRdWFsaWZ5aW5nRW5jb3VudGVyLmRpYWdub3NpcyBEeAogICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBkaWFnbm9zaXNDb2RlOiBHbG9iYWwuR2V0Q29uZGl0aW9uKER4LmNvbmRpdGlvbikuY29kZSwKICAgICAgICAgICAgICAgIHVzZTogRHgudXNlLAogICAgICAgICAgICAgICAgcmFuazogRHgucmFuaywKICAgICAgICAgICAgICAgIFBPQTogUUlDb3JlQ29tbW9uLlByZXNlbnRPbkFkbWlzc2lvbihEeCkKICAgICAgICAgICAgICB9CiAgICAgICAgfQoKCmRlZmluZSBUZXN0MToKICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIFF1YWxpZnlpbmdFbmNvdW50ZXIKCnsKICBFbmNvdW50ZXIgeyBpZDogMSwgcGVyaW9kOiAxMjMxLCAuLi4sIGRpYWdub3NpczogeyB7IGNvbmRpdGlvbjogJ0NvbmRpdGlvbi8xMjMnLCB1c2U6ICdBRCcsIHJhbms6IDEgfSwgeyBjb25kaXRpb246ICdDb25kaXRpb24vMjM0JywgdXNlOiAnQkknLCByYW5rOiAxIH0gfSB9CiAgRW5jb3VudGVyIHsgaWQ6IDIsIHBlcmlvZDogMTIzMSwgLi4uLCBkaWFnbm9zaXM6IHsgeyBjb25kaXRpb246ICdDb25kaXRpb24vMzQ1JywgdXNlOiAnQUQnLCByYW5rOiAxIH0sIHsgY29uZGl0aW9uOiAnQ29uZGl0aW9uLzY3OCcsIHVzZTogJ0JJJywgcmFuazogMSB9IH0gfQp9CgpkZWZpbmUgVGVzdDI6CiAgIlF1YWxpZnlpbmcgRW5jb3VudGVyIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICByZXR1cm4gUXVhbGlmeWluZ0VuY291bnRlci5kaWFnbm9zaXMKCnsKICB7IHsgY29uZGl0aW9uOiAnQ29uZGl0aW9uLzEyMycsIHVzZTogJ0FEJywgcmFuazogMSB9LCB7IGNvbmRpdGlvbjogJ0NvbmRpdGlvbi8yMzQnLCB1c2U6ICdCSScsIHJhbms6IDEgfSB9LAogIHsgeyBjb25kaXRpb246ICdDb25kaXRpb24vMzQ1JywgdXNlOiAnQUQnLCByYW5rOiAxIH0sIHsgY29uZGl0aW9uOiAnQ29uZGl0aW9uLzY3OCcsIHVzZTogJ0JJJywgcmFuazogMSB9IH0KfQoKZGVmaW5lIFRlc3QzOgogIGZsYXR0ZW4gKAogICAgIlF1YWxpZnlpbmcgRW5jb3VudGVyIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICAgIHJldHVybiBRdWFsaWZ5aW5nRW5jb3VudGVyLmRpYWdub3NpcwogICkKCnsKICB7IGNvbmRpdGlvbjogJ0NvbmRpdGlvbi8xMjMnLCB1c2U6ICdBRCcsIHJhbms6IDEgfSwgeyBjb25kaXRpb246ICdDb25kaXRpb24vMjM0JywgdXNlOiAnQkknLCByYW5rOiAxIH0sCiAgeyBjb25kaXRpb246ICdDb25kaXRpb24vMzQ1JywgdXNlOiAnQUQnLCByYW5rOiAxIH0sIHsgY29uZGl0aW9uOiAnQ29uZGl0aW9uLzY3OCcsIHVzZTogJ0JJJywgcmFuazogMSB9Cn0KCgovLyBXaXRob3V0IGZsYXR0ZW4KewogIHsKICAgIHsgZW5jb3VudGVySWQ6IDEsIHBlcmlvZDogW0AuLi4sIEAuLi5dLCBkaWFnbm9zaXNDb2RlOiAnWFlaJywgdXNlOiAnQUQnLCByYW5rOiAxLCBQT0E6ICdZJyB9LAogICAgeyBlbmNvdW50ZXJJZDogMSwgcGVyaW9kOiBbQC4uLiwgQC4uLl0sIGRpYWdub3Npc0NvZGU6ICdBQkMnLCB1c2U6ICdCSScsIHJhbms6IDIsIFBPQTogJ1UnIH0KICB9LAogIHsKICAgIHsgZW5jb3VudGVySWQ6IDIsIHBlcmlvZDogW0AuLi4sIEAuLi5dLCBkaWFnbm9zaXNDb2RlOiAnWFlaJywgdXNlOiAnQUQnLCByYW5rOiAxLCBQT0E6ICdZJyB9LAogICAgeyBlbmNvdW50ZXJJZDogMiwgcGVyaW9kOiBbQC4uLiwgQC4uLl0sIGRpYWdub3Npc0NvZGU6ICdBQkMnLCB1c2U6ICdCSScsIHJhbms6IDIsIFBPQTogJ1UnIH0KICB9LAogIHsKICAgIHsgZW5jb3VudGVySWQ6IDMsIHBlcmlvZDogW0AuLi4sIEAuLi5dLCBkaWFnbm9zaXNDb2RlOiAnWFlaJywgdXNlOiAnQUQnLCByYW5rOiAxLCBQT0E6ICdZJyB9LAogICAgeyBlbmNvdW50ZXJJZDogMywgcGVyaW9kOiBbQC4uLiwgQC4uLl0sIGRpYWdub3Npc0NvZGU6ICdBQkMnLCB1c2U6ICdCSScsIHJhbms6IDIsIFBPQTogJ1UnIH0KICB9Cn0KCi8vIFdpdGggZmxhdHRlbgp7CiAgeyBlbmNvdW50ZXJJZDogMSwgcGVyaW9kOiBbQC4uLiwgQC4uLl0sIGRpYWdub3Npc0NvZGU6ICdYWVonLCB1c2U6ICdBRCcsIHJhbms6IDEsIFBPQTogJ1knIH0sCiAgeyBlbmNvdW50ZXJJZDogMSwgcGVyaW9kOiBbQC4uLiwgQC4uLl0sIGRpYWdub3Npc0NvZGU6ICdBQkMnLCB1c2U6ICdCSScsIHJhbms6IDIsIFBPQTogJ1UnIH0uCiAgeyBlbmNvdW50ZXJJZDogMiwgcGVyaW9kOiBbQC4uLiwgQC4uLl0sIGRpYWdub3Npc0NvZGU6ICdYWVonLCB1c2U6ICdBRCcsIHJhbms6IDEsIFBPQTogJ1knIH0sCiAgeyBlbmNvdW50ZXJJZDogMiwgcGVyaW9kOiBbQC4uLiwgQC4uLl0sIGRpYWdub3Npc0NvZGU6ICdBQkMnLCB1c2U6ICdCSScsIHJhbms6IDIsIFBPQTogJ1UnIH0uCiAgeyBlbmNvdW50ZXJJZDogMywgcGVyaW9kOiBbQC4uLiwgQC4uLl0sIGRpYWdub3Npc0NvZGU6ICdYWVonLCB1c2U6ICdBRCcsIHJhbms6IDEsIFBPQTogJ1knIH0sCiAgeyBlbmNvdW50ZXJJZDogMywgcGVyaW9kOiBbQC4uLiwgQC4uLl0sIGRpYWdub3Npc0NvZGU6ICdBQkMnLCB1c2U6ICdCSScsIHJhbms6IDIsIFBPQTogJ1UnIH0KfQoKLy8gV2l0aG91dCBmbGF0dGVuLCBidXQgdXNpbmcgbmVzdGVkIGRpYWdub3NpcwpkZWZpbmUgIlRlc3Q0IjoKICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgIHdoZXJlIGV4aXN0cyBRdWFsaWZ5aW5nRW5jb3VudGVyLmRpYWdub3NpcyBBbGxEaWFnbm9zaXMKICAgICAgcmV0dXJuIHsKICAgICAgICBlbmNvdW50ZXJJZDogUXVhbGlmeWluZ0VuY291bnRlci5pZCwKICAgICAgICBwZXJpb2Q6IFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kLAogICAgICAgIGRpYWdub3NpczoKICAgICAgICAgIFF1YWxpZnlpbmdFbmNvdW50ZXIuZGlhZ25vc2lzIER4CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgZGlhZ25vc2lzQ29kZTogR2xvYmFsLkdldENvbmRpdGlvbihEeC5jb25kaXRpb24pLmNvZGUsCiAgICAgICAgICAgICAgdXNlOiBEeC51c2UsCiAgICAgICAgICAgICAgcmFuazogRHgucmFuaywKICAgICAgICAgICAgICBQT0E6IFFJQ29yZUNvbW1vbi5QcmVzZW50T25BZG1pc3Npb24oRHgpCiAgICAgICAgICAgIH0KICAgICAgfQoKCnsKICB7IGVuY291bnRlcklkOiAxLCBwZXJpb2Q6IFtALi4uLCBALi4uXSwgZGlhZ25vc2lzOiB7IHsgZGlhZ25vc2lzQ29kZTogJ1hZWicsIHVzZTogJ0FEJywgcmFuazogMSwgUE9BOiAnWScgfSB9IH0sCiAgeyBlbmNvdW50ZXJJZDogMSwgcGVyaW9kOiBbQC4uLiwgQC4uLl0sIGRpYWdub3NpczogeyB7IGRpYWdub3Npc0NvZGU6ICdBQkMnLCB1c2U6ICdCSScsIHJhbms6IDIsIFBPQTogJ1UnIH0gfSB9CiAgeyBlbmNvdW50ZXJJZDogMiwgcGVyaW9kOiBbQC4uLiwgQC4uLl0sIGRpYWdub3NpczogeyB7IGRpYWdub3Npc0NvZGU6ICdYWVonLCB1c2U6ICdBRCcsIHJhbms6IDEsIFBPQTogJ1knIH0gfSB9LAogIHsgZW5jb3VudGVySWQ6IDIsIHBlcmlvZDogW0AuLi4sIEAuLi5dLCBkaWFnbm9zaXM6IHsgeyBkaWFnbm9zaXNDb2RlOiAnQUJDJywgdXNlOiAnQkknLCByYW5rOiAyLCBQT0E6ICdVJyB9IH0gfQogIHsgZW5jb3VudGVySWQ6IDMsIHBlcmlvZDogW0AuLi4sIEAuLi5dLCBkaWFnbm9zaXM6IHsgeyBkaWFnbm9zaXNDb2RlOiAnWFlaJywgdXNlOiAnQUQnLCByYW5rOiAxLCBQT0E6ICdZJyB9IH0gfSwKICB7IGVuY291bnRlcklkOiAzLCBwZXJpb2Q6IFtALi4uLCBALi4uXSwgZGlhZ25vc2lzOiB7IHsgZGlhZ25vc2lzQ29kZTogJ0FCQycsIHVzZTogJ0JJJywgcmFuazogMiwgUE9BOiAnVScgfSB9IH0KfQoKCmRlZmluZSAiVGVzdDUiOgogICJRdWFsaWZ5aW5nIEVuY291bnRlciIgUXVhbGlmeWluZ0VuY291bnRlcgogICAgd2hlcmUgZXhpc3RzIFF1YWxpZnlpbmdFbmNvdW50ZXIuZGlhZ25vc2lzIEFsbERpYWdub3NpcwoKCg=="
  } ]
}