{
  "resourceType": "Measure",
  "id": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR",
  "meta": {
    "versionId": "28",
    "lastUpdated": "2022-09-30T11:08:47.000-06:00",
    "source": "#LyEEjyTCNtnwCrsP",
    "profile": [ "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/ratio-measure-cqfm", "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-measure-cqfm" ]
  },
  "language": "en",
  "contained": [ {
    "resourceType": "Library",
    "id": "effective-data-requirements",
    "extension": [ {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElementsFHIR4"
      }, {
        "url": "name",
        "valueString": "SDE Sex"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Sex\":\n  case\n      when Patient.gender = 'male' then Code { code: 'M', system: 'http://hl7.org/fhir/v3/AdministrativeGender', display: 'Male' }\n      when Patient.gender = 'female' then Code { code: 'F', system: 'http://hl7.org/fhir/v3/AdministrativeGender', display: 'Female' }\n      else null\n    end"
      }, {
        "url": "displaySequence",
        "valueInteger": 0
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "SDE Sex"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Sex\":\n  SDE.\"SDE Sex\""
      }, {
        "url": "displaySequence",
        "valueInteger": 1
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Inpatient Encounter During Measurement Period"
      }, {
        "url": "statement",
        "valueString": "define \"Inpatient Encounter During Measurement Period\":\n  [Encounter: \"Encounter Inpatient\"] EncounterInpatient\n    where EncounterInpatient.status = 'finished'\n      and EncounterInpatient.period ends during day of \"Measurement Period\""
      }, {
        "url": "displaySequence",
        "valueInteger": 2
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Qualifying Encounters"
      }, {
        "url": "statement",
        "valueString": "define \"Qualifying Encounters\":\n  \"Inpatient Encounter During Measurement Period\" InpatientEncounter\n    where AgeInYearsAt(date from start of InpatientEncounter.period)>= 18"
      }, {
        "url": "displaySequence",
        "valueInteger": 3
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Encounter with Hospitalization Period"
      }, {
        "url": "statement",
        "valueString": "/**\n * Create paring of encounters to hospitalization period so this calculation can be inspected and the result \n * can be reused, making the logic faster.*/\ndefine \"Encounter with Hospitalization Period\":\n  \"Qualifying Encounters\" InpatientHospitalization\n    return Tuple {\n      encounter: InpatientHospitalization,\n      hospitalizationPeriod: Global.\"HospitalizationWithObservation\" ( InpatientHospitalization )\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 4
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Encounter with Existing Diabetes Diagnosis"
      }, {
        "url": "statement",
        "valueString": "/**\n * Using the already calculated pairing of hospitalization periods with encounters, filter on ones with \n * diabetes and return the encounter.*/\ndefine \"Encounter with Existing Diabetes Diagnosis\":\n  \"Encounter with Hospitalization Period\" Hospitalization\n    with [\"Condition\": \"Diabetes\"] Diabetes\n      such that ( Global.\"Prevalence Period\" ( Diabetes ) starts before \n        end of Hospitalization.hospitalizationPeriod\n      )\n    return Hospitalization.encounter"
      }, {
        "url": "displaySequence",
        "valueInteger": 5
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Encounter with Hypoglycemic Medication"
      }, {
        "url": "statement",
        "valueString": "/**\n * Using the already calculated pairing of hospitalization periods with encounters, filter on ones with \n * hypoglycemic medicatons and return the encounter.*/\ndefine \"Encounter with Hypoglycemic Medication\":\n  from\n    \"Encounter with Hospitalization Period\" Hospitalization,\n    [\"MedicationAdministration\": \"Hypoglycemics Treatment Medications\"] HypoglycemicMed\n    where HypoglycemicMed.status = 'completed'\n      and HypoglycemicMed.status != 'not-done'\n      and Global.\"Normalize Interval\" ( HypoglycemicMed.effective ) during Hospitalization.hospitalizationPeriod\n    return Hospitalization.encounter"
      }, {
        "url": "displaySequence",
        "valueInteger": 6
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Encounter with Elevated Blood Glucose Lab"
      }, {
        "url": "statement",
        "valueString": "/**\n * Using the already calculated pairing of hospitalization periods with encounters, filter on ones with \n * any elevated (>= 200) blood glucose reading during the hospitalization*/\ndefine \"Encounter with Elevated Blood Glucose Lab\":\n  \"Encounter with Hospitalization Period\" Hospitalization\n    with [\"Observation\": \"Glucose Lab Test Mass Per Volume\"] BloodGlucoseLab\n      such that BloodGlucoseLab.effective as dateTime during Hospitalization.hospitalizationPeriod\n        and BloodGlucoseLab.status in { 'final', 'amended', 'corrected' }\n        and BloodGlucoseLab.status != 'cancelled'\n        and BloodGlucoseLab.value >= 200 'mg/dL'\n    return Hospitalization.encounter"
      }, {
        "url": "displaySequence",
        "valueInteger": 7
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Initial Population"
      }, {
        "url": "statement",
        "valueString": "define \"Initial Population\":\n  \"Encounter with Existing Diabetes Diagnosis\"\n    union \"Encounter with Hypoglycemic Medication\"\n    union \"Encounter with Elevated Blood Glucose Lab\""
      }, {
        "url": "displaySequence",
        "valueInteger": 8
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Days in Hospitalization"
      }, {
        "url": "statement",
        "valueString": "/***/\ndefine \"Days in Hospitalization\":\n  \"Initial Population\" EligibleInpatientHospitalization\n    let period: Global.\"HospitalizationWithObservation\" ( EligibleInpatientHospitalization ),\n    relevantPeriod: \"Hospital Days Max 10\"(period)\n    return Tuple {\n      encounter: EligibleInpatientHospitalization,\n      hospitalizationPeriod: period,\n      relevantPeriod: relevantPeriod,\n      relevantDays: \"Days In Period\"(relevantPeriod)\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 9
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Days with Glucose Results"
      }, {
        "url": "statement",
        "valueString": "define \"Days with Glucose Results\":\n  \"Days in Hospitalization\" InpatientHospitalDays\n    return Tuple {\n      encounter: InpatientHospitalDays.encounter,\n      relevantPeriod: InpatientHospitalDays.relevantPeriod,\n      relevantDays: ( InpatientHospitalDays.relevantDays EncounterDay\n          return Tuple {\n            dayIndex: EncounterDay.dayIndex,\n            dayPeriod: EncounterDay.dayPeriod,\n            hasSevereResult: exists ( [\"Observation\": \"Glucose Lab Test Mass Per Volume\"] BloodGlucoseLab1\n                where BloodGlucoseLab1.status in { 'final', 'amended', 'corrected' }\n                  and BloodGlucoseLab1.status != 'cancelled'\n                  and BloodGlucoseLab1.value > 300 'mg/dL'\n                  and BloodGlucoseLab1.effective as dateTime during EncounterDay.dayPeriod\n            ),\n            hasElevatedResult: exists ( [\"Observation\": \"Glucose Lab Test Mass Per Volume\"] BloodGlucoseLab2\n                where BloodGlucoseLab2.status in { 'final', 'amended', 'corrected' }\n                  and BloodGlucoseLab2.status != 'cancelled'\n                  and BloodGlucoseLab2.value >= 200 'mg/dL'\n                  and BloodGlucoseLab2.effective as dateTime during EncounterDay.dayPeriod\n            ),\n            hasNoResult: not exists ( [\"Observation\": \"Glucose Lab Test Mass Per Volume\"] BloodGlucoseLab3\n                where BloodGlucoseLab3.status in { 'final', 'amended', 'corrected' }\n                  and BloodGlucoseLab3.status != 'cancelled'\n                  and BloodGlucoseLab3.effective as dateTime during EncounterDay.dayPeriod\n            )\n          }\n      )\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 10
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Days with Hyperglycemic Events"
      }, {
        "url": "statement",
        "valueString": "/*# hyper days uses \"Relevant Encounters With Glucose Result Days\" to find if hyper event on each day. Skips 1st day in 'RelevantDays`. Returns boolean based on: Today high result OR Today no result AND Yesterday high result AND 2 days ago high result*/\ndefine \"Days with Hyperglycemic Events\":\n  \"Days with Glucose Results\" EncounterWithResultDays\n            let eligibleEventDays: EncounterWithResultDays.relevantDays EncounterDay\n              where EncounterDay.dayIndex > 1\n              return Tuple {\n                dayIndex: EncounterDay.dayIndex,\n                dayPeriod: EncounterDay.dayPeriod,\n                hasHyperglycemicEvent: ( EncounterDay.hasSevereResult\n                    or ( EncounterDay.hasNoResult\n                        and EncounterWithResultDays.relevantDays[EncounterDay.dayIndex - 2].hasElevatedResult\n                        and EncounterWithResultDays.relevantDays[EncounterDay.dayIndex - 3].hasElevatedResult\n                    )\n                )\n              }\n            return Tuple {\n              encounter: EncounterWithResultDays.encounter,\n              relevantPeriod: EncounterWithResultDays.relevantPeriod,\n              eligibleEventDays: eligibleEventDays\n            }"
      }, {
        "url": "displaySequence",
        "valueInteger": 11
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Encounter with Hyperglycemic Events"
      }, {
        "url": "statement",
        "valueString": "/***/\ndefine \"Encounter with Hyperglycemic Events\":\n  \"Days with Hyperglycemic Events\" HyperglycemicEventDays\n    where exists ( HyperglycemicEventDays.eligibleEventDays EligibleEventDay\n        where EligibleEventDay.hasHyperglycemicEvent\n    )\n    return HyperglycemicEventDays.encounter"
      }, {
        "url": "displaySequence",
        "valueInteger": 12
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Numerator"
      }, {
        "url": "statement",
        "valueString": "define \"Numerator\":\n  \"Encounter with Hyperglycemic Events\""
      }, {
        "url": "displaySequence",
        "valueInteger": 13
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Denominator"
      }, {
        "url": "statement",
        "valueString": "define \"Denominator\":\n  \"Initial Population\""
      }, {
        "url": "displaySequence",
        "valueInteger": 14
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElementsFHIR4"
      }, {
        "url": "name",
        "valueString": "SDE Payer"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Payer\":\n  [Coverage: type in \"Payer\"] Payer\n    return {\n      code: Payer.type,\n      period: Payer.period\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 15
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "SDE Payer"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Payer\":\n  SDE.\"SDE Payer\""
      }, {
        "url": "displaySequence",
        "valueInteger": 16
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElementsFHIR4"
      }, {
        "url": "name",
        "valueString": "SDE Ethnicity"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Ethnicity\":\n  (QICore.Ethnicity(Patient)) E\n    return FHIR.CodeableConcept {\n      coding: { E.ombCategory } union E.detailed,\n      text: E.text\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 17
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "SDE Ethnicity"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Ethnicity\":\n  SDE.\"SDE Ethnicity\""
      }, {
        "url": "displaySequence",
        "valueInteger": 18
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "First Blood Glucose within 1 Hour Prior To and 6 Hours After Encounter Start"
      }, {
        "url": "statement",
        "valueString": "define \"First Blood Glucose within 1 Hour Prior To and 6 Hours After Encounter Start\":\n  First([\"Observation\": \"Glucose Lab Test Mass Per Volume\"] FirstBloodGlucose\n      with(\"Qualifying Encounters\")InpatientEncounter\n        such that FirstBloodGlucose.effective as dateTime during Interval[(start of Global.\"HospitalizationWithObservation\"(InpatientEncounter)- 1 hour),(start of Global.\"HospitalizationWithObservation\"(InpatientEncounter)+ 6 hours)]\n          and FirstBloodGlucose.status in { 'final', 'amended', 'corrected' }\n          and FirstBloodGlucose.status != 'cancelled'\n      sort by effective\n  )"
      }, {
        "url": "displaySequence",
        "valueInteger": 19
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Encounter with First Blood Glucose Greater Than or Equal to 1000"
      }, {
        "url": "statement",
        "valueString": "define \"Encounter with First Blood Glucose Greater Than or Equal to 1000\":\n  \"Qualifying Encounters\" InpatientHospitalization\n    with \"First Blood Glucose within 1 Hour Prior To and 6 Hours After Encounter Start\" FirstGlucoseResult\n      such that FirstGlucoseResult.value as Quantity >= 1000 'mg/dL'"
      }, {
        "url": "displaySequence",
        "valueInteger": 20
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "Denominator Exclusions"
      }, {
        "url": "statement",
        "valueString": "define \"Denominator Exclusions\":\n  \"Encounter with First Blood Glucose Greater Than or Equal to 1000\""
      }, {
        "url": "displaySequence",
        "valueInteger": 21
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElementsFHIR4"
      }, {
        "url": "name",
        "valueString": "SDE Race"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Race\":\n  (QICore.Race(Patient)) R\n    return FHIR.CodeableConcept {\n      coding: R.ombCategory union R.detailed,\n      text: R.text\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 22
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR"
      }, {
        "url": "name",
        "valueString": "SDE Race"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Race\":\n  SDE.\"SDE Race\""
      }, {
        "url": "displaySequence",
        "valueInteger": 23
      } ]
    } ],
    "status": "active",
    "type": {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/library-type",
        "code": "module-definition"
      } ]
    },
    "relatedArtifact": [ {
      "type": "depends-on",
      "display": "Library SDE",
      "resource": "http://ecqi.healthit.gov/ecqms/Library/SupplementalDataElementsFHIR4|3.0.000"
    }, {
      "type": "depends-on",
      "display": "Library FHIRHelpers",
      "resource": "http://ecqi.healthit.gov/ecqms/Library/FHIRHelpers|4.1.000"
    }, {
      "type": "depends-on",
      "display": "Library Global",
      "resource": "http://ecqi.healthit.gov/ecqms/Library/MATGlobalCommonFunctionsFHIR4|7.0.000"
    }, {
      "type": "depends-on",
      "display": "Library FHIRCommon",
      "resource": "http://ecqi.healthit.gov/ecqms/Library/FHIRCommon|1.1.000"
    }, {
      "type": "depends-on",
      "display": "Library QICore",
      "resource": "http://ecqi.healthit.gov/ecqms/Library/QICoreCommon|1.0.000"
    }, {
      "type": "depends-on",
      "display": "Value set Encounter Inpatient",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    }, {
      "type": "depends-on",
      "display": "Value set Observation Services",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143"
    }, {
      "type": "depends-on",
      "display": "Value set Emergency Department Visit",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292"
    }, {
      "type": "depends-on",
      "display": "Value set Diabetes",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.103.12.1001"
    }, {
      "type": "depends-on",
      "display": "Value set Hypoglycemics Treatment Medications",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1196.394"
    }, {
      "type": "depends-on",
      "display": "Value set Glucose Lab Test Mass Per Volume",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.34"
    }, {
      "type": "depends-on",
      "display": "Value set Payer",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"
    } ],
    "parameter": [ {
      "name": "Measurement Period",
      "use": "in",
      "min": 0,
      "max": "1",
      "type": "Period"
    }, {
      "name": "SDE Sex",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "Coding"
    }, {
      "name": "Numerator",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Encounter"
    }, {
      "name": "Denominator",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Encounter"
    }, {
      "name": "SDE Payer",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Any"
    }, {
      "name": "Initial Population",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Encounter"
    }, {
      "name": "SDE Ethnicity",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "CodeableConcept"
    }, {
      "name": "Denominator Exclusions",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Encounter"
    }, {
      "name": "SDE Race",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "CodeableConcept"
    } ],
    "dataRequirement": [ {
      "profile": [ "http://hl7.org/fhir/AdministrativeGender" ],
      "mustSupport": [ "value" ]
    }, {
      "type": "Patient",
      "profile": [ "http://hl7.org/fhir/StructureDefinition/Patient" ],
      "mustSupport": [ "ombCategory", "detailed", "text" ]
    }, {
      "type": "Patient",
      "profile": [ "http://hl7.org/fhir/Patient" ],
      "mustSupport": [ "gender" ]
    }, {
      "profile": [ "http://hl7.org/fhir/EncounterStatus" ],
      "mustSupport": [ "value" ]
    }, {
      "type": "Encounter",
      "profile": [ "http://hl7.org/fhir/StructureDefinition/Encounter" ],
      "mustSupport": [ "type", "status", "period" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143"
      } ]
    }, {
      "type": "Encounter",
      "profile": [ "http://hl7.org/fhir/StructureDefinition/Encounter" ],
      "mustSupport": [ "type", "status", "period" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292"
      } ]
    }, {
      "type": "Encounter",
      "profile": [ "http://hl7.org/fhir/StructureDefinition/Encounter" ],
      "mustSupport": [ "type", "status", "period", "hospitalizationPeriod", "encounter" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
      } ]
    }, {
      "type": "Condition",
      "profile": [ "http://hl7.org/fhir/StructureDefinition/Condition" ],
      "mustSupport": [ "code" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.103.12.1001"
      } ]
    }, {
      "profile": [ "http://hl7.org/fhir/MedicationAdministrationStatus" ],
      "mustSupport": [ "value" ]
    }, {
      "type": "MedicationAdministration",
      "profile": [ "http://hl7.org/fhir/StructureDefinition/MedicationAdministration" ],
      "mustSupport": [ "medication", "status", "effective" ],
      "codeFilter": [ {
        "path": "medication",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1196.394"
      } ]
    }, {
      "type": "dateTime",
      "profile": [ "http://hl7.org/fhir/dateTime" ],
      "mustSupport": [ "value" ]
    }, {
      "profile": [ "http://hl7.org/fhir/ObservationStatus" ],
      "mustSupport": [ "value" ]
    }, {
      "type": "Quantity",
      "profile": [ "http://hl7.org/fhir/Quantity" ],
      "mustSupport": [ "value", "comparator", "system", "system.value", "value.value", "code", "code.value", "unit", "unit.value" ]
    }, {
      "type": "Observation",
      "profile": [ "http://hl7.org/fhir/StructureDefinition/Observation" ],
      "mustSupport": [ "code", "effective", "status", "value" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.34"
      } ]
    }, {
      "type": "Coverage",
      "profile": [ "http://hl7.org/fhir/StructureDefinition/Coverage" ],
      "mustSupport": [ "type", "period" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"
      } ]
    }, {
      "type": "uri",
      "profile": [ "http://hl7.org/fhir/uri" ],
      "mustSupport": [ "value" ]
    }, {
      "type": "Extension",
      "profile": [ "http://hl7.org/fhir/Extension" ],
      "mustSupport": [ "value" ]
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
    "valueCode": "Encounter"
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  }, {
    "id": "effective-data-requirements",
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-effectiveDataRequirements",
    "valueReference": {
      "reference": "#effective-data-requirements"
    }
  } ],
  "url": "http://ecqi.healthit.gov/ecqms/Measure/HospitalHarmHyperglycemiainHospitalizedPatientsFHIR",
  "identifier": [ {
    "use": "official",
    "system": "http://hl7.org/fhir/cqi/ecqm/Measure/Identifier/guid",
    "value": "c44ca609-d795-4715-a8fc-1b0b30e46048"
  }, {
    "use": "official",
    "system": "http://hl7.org/fhir/cqi/ecqm/Measure/Identifier/cms",
    "value": "871FHIR"
  }, {
    "use": "official",
    "system": "http://hl7.org/fhir/cqi/ecqm/Measure/Identifier/nqf",
    "value": "3533e"
  } ],
  "version": "0.0.014",
  "name": "HospitalHarmHyperglycemiainHospitalizedPatientsFHIR",
  "title": "Hospital Harm - Severe HyperglycemiaFHIR",
  "status": "draft",
  "experimental": false,
  "date": "2022-10-11T10:58:09-06:00",
  "publisher": "Centers for Medicare & Medicaid Services (CMS)",
  "contact": [ {
    "telecom": [ {
      "system": "url",
      "value": "https://cms.gov"
    } ]
  } ],
  "description": "This measure assesses the number of inpatient hospital days for patients age 18 and older with a hyperglycemic event (harm) per the total qualifying inpatient hospital days for that encounter",
  "purpose": "Unknown",
  "copyright": "Limited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. American Institutes for Research(R), formerly IMPAQ International, disclaims all liability for use or accuracy of any third party codes contained in the specifications.\n\nLOINC(R) copyright 2004-2022 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2022 International Health Terminology Standards Development Organisation. ICD-10 copyright 2022 World Health Organization. All Rights Reserved.",
  "effectivePeriod": {
    "start": "2022-01-01",
    "end": "2022-12-31"
  },
  "relatedArtifact": [ {
    "type": "citation",
    "citation": "American Diabetes Association Professional Practice Committee; 16. (2022). Diabetes Care in the Hospital: Standards of Medical Care in Diabetes—2022. Diabetes Care 1 January 2022; 45 (Supplement_1): S244–S253.  https://doi.org/10.2337/dc22-S016"
  }, {
    "type": "citation",
    "citation": "Bersoux, S., Cook, C.B., Kongable, G.L., Shu, J. (2013). Trends in glycemic control over a 2-year period in 126 US hospitals. J Hosp Med. 2013;8(3):121-125. doi:10.1002/jhm.1997"
  }, {
    "type": "citation",
    "citation": "Donihi, A.C., Gibson, J.M., Noschese, M.L., et al. (2011). Effect of targeted glycemic management program on provider response to inpatient hyperglycemia. Endocr Pract. 2011; (4)552-557"
  }, {
    "type": "citation",
    "citation": "Gosmanov, A.R., Gosmanova, E.O., Kitabchi, A.E. (2021). Hyperglycemic Crises: Diabetic Ketoacidosis and Hyperglycemic Hyperosmolar State. [Updated 2021 May 9]. In: Feingold KR, Anawalt B, Boyce A, et al., editors. Endotext [Internet]. South Dartmouth (MA): MDText.com, Inc.; 2000-. Available from: https://www.ncbi.nlm.nih.gov/books/NBK279052/"
  }, {
    "type": "citation",
    "citation": "Jamesen, E., Nevalainen, P.L., Eskelinen, A., et al. (2015). Risk factors for perioperative hyperglycemia in primary hip and knee replacements. Acta Orthop. 2015; 86(2):175-182"
  }, {
    "type": "citation",
    "citation": "Korytkowski, M.T., Muniyappa, R., Antinori-Lent, K., Donihi, A.C., Drincic, A.T, Hirsch, I.B., Luger, A., McDonnell, M.E., Murad, M.H., Nielsen, C., Pegg, C., Rushakoff, R.J., Santesso, N., Umpierrez, G.E. (2022). Management of Hyperglycemia in Hospitalized Adult Patients in Non-Critical Care Settings: An Endocrine Society Clinical Practice Guideline, The Journal of Clinical Endocrinology & Metabolism, Volume 107, Issue 8, August 2022, Pages 2101–2128,  https://doi.org/10.1210/clinem/dgac278"
  }, {
    "type": "citation",
    "citation": "Krinsley, J.S., Jones, R.L. (2016). Cost analysis of intensive glycemic control in critically ill adult patients. Chest. 2016;129(3)644-650"
  }, {
    "type": "citation",
    "citation": "LeRoy, L.,  Richard, S. (2020). Harms Due to Diabetic Agents (Chapter 8), Making Healthcare Safer III: A Critical Analysis of Existing and Emerging Patient Safety Practices. Retrieved from: https://www.ahrq.gov/sites/default/files/wysiwyg/research/findings/making-healthcare-safer/mhs3/diabetes-1.pdf"
  }, {
    "type": "citation",
    "citation": "Maynard, G., Kulasa, K., Ramos, P., et al. (2015). Impact of a hypoglycemic reduction bundle and a systems approach to inpatient glycemic management. Endocr Pract. 2015;21(4):355-367"
  }, {
    "type": "citation",
    "citation": "Mendez, C.E., Ata, A., Rourke, J.M., et al. (2015). Daily inpatient glycemic survey (DINGS): A process to remotely identify and assist in the management of hospitalized patients with diabetes and hyperglycemia. Endocr Pract. 2015;21(8):927-935"
  }, {
    "type": "citation",
    "citation": "Pasquel, F.J., Lansang, M.C., Dhatariya, K., Umpierrez, G.E. (2021). Management of diabetes and hyperglycaemia in the hospital. The Lancet Diabetes & Endocrinology. 2021; 9: 174–88"
  }, {
    "type": "citation",
    "citation": "Sathya, B., Davis, R., Taveira, T., et al. (2013). Intensity of peri-operative glycemic control and postoperative outcomes in patients with diabetes: a meta-analysis. Diabetes Res Clin Pract. 2013;102(1):815.10.1016/j.diabres.2013.05.003"
  }, {
    "type": "citation",
    "citation": "Umpierrez, G., Cardona, S., Pasquel, F., et al. (2015). Randomized controlled trial of intensive versus conservative glucose control in patients undergoing coronary artery bypass graft surgery: gluco-CABG trial. Diabetes Care. 2015;38(9):1665-1672"
  }, {
    "type": "citation",
    "citation": "Umpierrez, G.E., Hellman, R., Korytkowski, M.T., et al. (2012). Management of Hyperglycemia in Hospitalized Patients in Non-critical Care Setting: An Endocrine Society Clinical Practice Guideline. J Clin Endocrinol Metab. 2012;97, 16-38"
  } ],
  "library": [ "http://ecqi.healthit.gov/ecqms/Library/HospitalHarmHyperglycemiainHospitalizedPatientsFHIR" ],
  "disclaimer": "This performance measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications.\n\nTHE MEASURES AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND.\n\nDue to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].",
  "scoring": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/measure-scoring",
      "code": "ratio",
      "display": "Ratio"
    } ]
  },
  "type": [ {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/measure-type",
      "code": "outcome"
    } ]
  } ],
  "rationale": "Hyperglycemia, i.e., elevated blood glucose level, is common among hospitalized patients, especially those with preexisting diabetes (Umpierrez et al., 2012) and account for over 30% of noncritically ill hospitalized patients (Korytkowski, 2022). Hyperglycemia can also affect individuals with no prior history of diabetes and may be induced by medications such as steroids, or parenteral (intravenous) or enteral (tube) feeding.\n\nSevere hyperglycemia, i.e., extremely elevated blood glucose level, is significantly associated with a range of harms, including increased in-hospital mortality, infection rates, and hospital length of stay (Pasquel, et al., 2021; Umpierrez et al., 2012, 2015). Lower rates of inpatient severe hyperglycemia may not only improve care for patients, but also reduce costs for healthcare payers (Krinsley et al., 2016). The rate of hyperglycemia varies across hospitals, suggesting opportunities for improvement in inpatient glycemic management (Bersoux et al., 2013). The rate of inpatient hyperglycemia can be considered a marker for quality of hospital care, since inpatient hyperglycemia is largely avoidable with proper glycemic management. The use of evidence-based standardized protocols and insulin management protocols have been shown to improve glycemic control and safety (Leroy et al., 2020; Maynard et al., 2015).\n\nFrom the Endocrine Society clinical practice guideline on the Management of Hyperglycemia in Hospitalized Patients in Non-critical Care Setting, 2022:\nRecommendation 1.1\nIn adults with insulin-treated diabetes hospitalized for noncritical illness who are at high risk of hypoglycemia, we suggest the use of real-time continuous glucose monitoring (CGM) with confirmatory bedside point-of-care blood glucose (POC-BG) monitoring for adjustments in insulin dosing rather than point-of-care blood glucose (POC-BG) testing alone in hospital settings where resources and training are available.",
  "clinicalRecommendationStatement": "It should be noted that this measure does not aim to measure overall glucose control in hospitalized patients; rather, our goal is to assess the occurrence and extent of severe hyperglycemia. This measure is also intended to be used in combination with its companion measure of hypoglycemia (Hospital Harm – Hypoglycemia) to reduce unintended consequences of measurement. \n\nMultiple guidelines address recommended levels of glycemic control, though these do not define severe hyperglycemia: \n\nFrom Section 16, Diabetes Care in the Hospital, in the Standards of Medical Care in Diabetes by the American Diabetes Association, (American Diabetes Association, 2022): \n\n16.4 Insulin therapy should be initiated for treatment of persistent hyperglycemia starting at a threshold ≥180 mg/dL (10.0 mmol/L) (checked on two occasions). Once insulin therapy is started, a target glucose range of 140–180 mg/dL (7.8–10.0 mmol/L) is recommended for the majority of critically ill and noncritically ill patients. A\n\n16.5 More stringent goals, such as 110–140 mg/dL (6.1–7.8 mmol/L), may be appropriate for selected patients if they can be achieved without significant hypoglycemia.\n\nFrom the Endocrine Society clinical practice guideline on the Management of Hyperglycemia in Hospitalized Patients in Non-critical Care Setting (2022): \n\nRecommendation 10.1\nIn adults with no prior history of diabetes hospitalized for noncritical illness with hyperglycemia [defined as blood glucose (BG) > 140 mg/dL (7.8 mmol/L)] during hospitalization, we suggest initial therapy with correctional insulin over scheduled insulin therapy (defined as basal or basal/bolus insulin) to maintain glucose targets in the range of 100 to 180 mg/dL (5.6 to 10.0 mmol/L). For patients with persistent hyperglycemia [≥2 point-of-care blood glucose (POC-BG) measurements ≥ 180 mg/dL (≥10.0 mmol/L) in a 24-hour period on correctional insulin alone], we suggest the addition of scheduled insulin therapy. \n\nRecommendation 10.2\nIn adults with diabetes treated with diet or noninsulin diabetes medications prior to admission, we suggest initial therapy with correctional insulin or scheduled insulin therapy to maintain glucose targets in the range of 100 to 180 mg/dL (5.6 to 10.0 mmol/L). For hospitalized adults started on correctional insulin alone and with persistent hyperglycemia [≥2 point-of-care blood glucose (POC-BG) measurements ≥ 180 mg/dL in a 24-hour period (≥10.0 mmol/L)], we suggest addition of scheduled insulin therapy. We suggest initiation of scheduled insulin therapy for patients with confirmed admission blood glucose (BG) ≥ 180 mg/dL (≥10.0 mmol/L). \n\nRecommendation 10.3\nIn adults with insulin-treated diabetes prior to admission who are hospitalized for noncritical illness, we recommend continuation of the scheduled insulin regimen modified for nutritional status and severity of illness to maintain glucose targets in the range of 100 to 180 mg/dL (5.6 to 10.0 mmol/L).\n\nRemarks\nReductions in the dose of basal insulin (by 10% to 20%) at time of hospitalization may be required for patients on basal heavy insulin regimens (defined as doses of basal insulin ≥ 0.6 to 1.0 units/kg/day), in which basal insulin is being used inappropriately to cover meal-related excursions in BG.\n\n\nThere is no clinically accepted cutoff for severe hyperglycemia. Studies have used thresholds of >140, >180 , >300, and >350 mg/dL, among other values (American Diabetes Association, 2020; Umpierrez et al, 2012, 2015); Jamesen et al., 2015; Donihi et al., 2011; Mendez et al, 2015). BGL <180 mg/dL is associated with lower rates of mortality and stroke compared with a target glucose <200 mg/dL (Sathya, et al., 2013). Glycemic goals may also differ among hospitalized patients. For example, in an older patient with a prior history of severe hypoglycemia, some degree of hyperglycemia may be tolerated to maximize safety. Intensive insulin therapy to target glucose of 100 and 140mg/dLin the ICU didn’t significantly reduce perioperative complications compared with target glucose of 141and180mg/dLafter coronary artery bypass surgery (Umpierrez, 2015).\n\nFor patients who present with hyperglycemic crises, neurologic status must be monitored closely, with frequent re-examination. Care should be taken to prevent over-correction of hyperglycemia and hyperosmolarity following initial ﬂuid resuscitation of these patients to prevent cerebral edema, which carries a high mortality rate. (Gosmanov et al., 2021).",
  "improvementNotation": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/measure-improvement-notation",
      "code": "decrease"
    } ]
  },
  "guidance": "The measure is using mg/dL as the unit of measurement for glucose results.\nTo determine the measure outcome, the total number of hyperglycemic days during the inpatient hospitalization is divided by the total number of eligible hospital days of the inpatient hospitalization.\n\nWhen evaluating for days with a blood glucose level >300 mg/dL, the first 24-hour period after admission to the hospital (including the emergency department or observation) is not evaluated to account for potentially poor glucose control outside of the hospital setting or that preceded the start of hospital care.\n\nThis measure evaluates the first 10 days of an eligible inpatient hospitalization in determining eligible days for the denominator and numerator (i.e., the length of stay is truncated to <=10 days when the length exceeds 10 days). Patients admitted for longer length of stays are more likely to have more complex medical conditions.  \n\nThe numerator returns the first eligible encounter that meets the qualifying criteria: an inpatient hospitalization with a hyperglycemic event. Only one numerator is counted per encounter. Note that the Numerator returns the encounters, not days, that meet the criteria.\n\nBlood glucose levels are determined by laboratory or point-of-care (POC) tests, including capillary/glucometer blood glucose tests.\n\nThis eCQM is an episode-based measure. An episode is defined as each inpatient hospitalization or encounter that ends during the measurement period.\n\nThis FHIR-based measure has been derived from the QDM-based measure: CMS871v2.0",
  "group": [ {
    "population": [ {
      "id": "CA2F9DBE-6EA4-4821-B4AE-EE1096E66C01",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "initial-population",
          "display": "Initial Population"
        } ]
      },
      "criteria": {
        "language": "text/cql.identifier",
        "expression": "Initial Population"
      }
    }, {
      "id": "AD467BCB-8CE7-48B9-9E6F-707E32BB29FE",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "denominator",
          "display": "Denominator"
        } ]
      },
      "criteria": {
        "language": "text/cql.identifier",
        "expression": "Denominator"
      }
    }, {
      "id": "25BF9A32-6D45-462E-844B-1EA22B616861",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "denominator-exclusion",
          "display": "Denominator Exclusion"
        } ]
      },
      "criteria": {
        "language": "text/cql.identifier",
        "expression": "Denominator Exclusions"
      }
    }, {
      "id": "F0983998-F81E-4600-88FB-80EE4B3241D3",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "numerator",
          "display": "Numerator"
        } ]
      },
      "criteria": {
        "language": "text/cql.identifier",
        "expression": "Numerator"
      }
    }, {
      "id": "8AFF78F2-EA57-48AE-AD67-8C71EB46880A",
      "extension": [ {
        "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-aggregateMethod",
        "valueCode": "sum"
      } ],
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "measure-observation",
          "display": "Measure Observation"
        } ]
      },
      "criteria": {
        "language": "text/cql.identifier",
        "expression": "Denominator Observations"
      }
    }, {
      "id": "417B91A9-D9B2-48B9-B0F9-54CD90A3FAE2",
      "extension": [ {
        "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-aggregateMethod",
        "valueCode": "sum"
      } ],
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "measure-observation",
          "display": "Measure Observation"
        } ]
      },
      "criteria": {
        "language": "text/cql.identifier",
        "expression": "Numerator Observations"
      }
    } ]
  } ],
  "supplementalData": [ {
    "id": "43fd9282-a7e6-3335-be5c-e4dbf22a263a",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "criteria": {
      "language": "text/cql.identifier",
      "expression": "SDE Ethnicity"
    }
  }, {
    "id": "f3090b84-cb46-34ba-9426-75ca19e7b09e",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "criteria": {
      "language": "text/cql.identifier",
      "expression": "SDE Payer"
    }
  }, {
    "id": "4a656589-417f-370f-8ff5-b8a94e5cf2d8",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "criteria": {
      "language": "text/cql.identifier",
      "expression": "SDE Race"
    }
  }, {
    "id": "644667d0-9231-3f98-a741-b4549b67a659",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "criteria": {
      "language": "text/cql.identifier",
      "expression": "SDE Sex"
    }
  } ]
}